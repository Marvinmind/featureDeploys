(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Zm3N:function(t,e,n){"use strict";n.r(e),n.d(e,"DASHBOARD_FORMATS",(function(){return uc})),n.d(e,"DashboardModule",(function(){return Oc}));var c=n("ofXK"),r=n("tyNb"),o=n("MQuO"),a=n("mrSG"),i=n("l7P3"),l=n("R0sL");const s=Object(i.n)("[Task] Loading all tasks and its times"),d=Object(i.n)("[Task] Update tasks",Object(i.s)()),b=Object(i.n)("[Task] Delete tasks",Object(i.s)()),p=Object(i.n)("[Task] Clear all tasks"),g=Object(i.n)("[Task Time] Loading all task times"),m=Object(i.n)("[Task Time] Update task times",Object(i.s)()),f=Object(i.n)("[Task Time] Delete task times",Object(i.s)()),h=Object(i.n)("[Task Time] Clear all tasks times"),_=Object(l.a)(),u=Object(l.a)(),O=_.getInitialState(),k=u.getInitialState(),P=Object(i.p)(O,Object(i.r)(d,(t,{tasks:e})=>_.upsertMany(e,t)),Object(i.r)(b,(t,{tasks:e})=>_.removeMany(e,t)),Object(i.r)(p,t=>_.removeAll(t))),C=Object(i.p)(k,Object(i.r)(m,(t,{taskTimes:e})=>u.upsertMany(e,t)),Object(i.r)(f,(t,{taskTimes:e})=>u.removeMany(e,t)),Object(i.r)(h,t=>u.removeAll(t))),M=_.getSelectors(),y=u.getSelectors();function T(t,e){return P(t,e)}function j(t,e){return C(t,e)}var x=n("K9MR");const v=Object(i.n)("[Tracked Times] Loading all Tracked Times"),w=Object(i.n)("[Tracked Times] Update Tracked Times",Object(i.s)()),E=Object(i.n)("[Tracked Times] Delete Tracked Times",Object(i.s)()),I=Object(i.n)("[Tracked Times] Clear all Tracked Times"),F=Object(l.a)(),D=F.getInitialState(),$=Object(i.p)(D,Object(i.r)(w,(t,{trackedTimes:e})=>F.upsertMany(e,t)),Object(i.r)(E,(t,{trackedTimes:e})=>F.removeMany(e,t)),Object(i.r)(I,t=>F.removeAll(t))),U=F.getSelectors();function S(t,e){return $(t,e)}const R=Object(i.o)("dashboard"),B=Object(i.q)(R,t=>t.trackedTimes),N=Object(i.q)(B,t=>U.selectAll(t).filter(t=>"deleted"!==t.state));var A=n("gEt1"),L=n("LvDl"),K=n("wd/R"),z=n.n(K),W=n("3OlI");const Y=Object(l.a)(),Q=Y.getInitialState(),V=Object(i.p)(Q,Object(i.r)(W.d,(t,{projects:e})=>Y.upsertMany(e,t)),Object(i.r)(W.b,(t,{projects:e})=>Y.removeMany(e,t)),Object(i.r)(W.a,t=>Y.removeAll(t))),q=Y.getSelectors();function H(t,e){return V(t,e)}const G=Object(i.o)("dashboard"),J=Object(i.q)(G,t=>t.companyProjects),X=Object(i.q)(J,q.selectEntities),Z=Object(i.q)(J,q.selectAll),tt=Object(i.q)(Z,t=>t?t.map(t=>(new x.a).deserialize(t)):[]),et=Object(i.q)(J,q.selectIds),nt=Object(i.q)(J,tt,(t,e,n)=>{if(!n.projectId)return e;const c=t.entities[n.projectId];return e.filter(t=>t.parentProject===c.id)}),ct=Object(i.q)(X,(t,e)=>t[e.projectId]),rt=Object(i.o)("dashboard"),ot=Object(i.q)(rt,t=>t.tasks),at=Object(i.q)(rt,t=>t.taskTimes),it=Object(i.q)(ot,t=>M.selectIds(t)),lt=Object(i.q)(ot,M.selectAll),st=Object(i.q)(at,y.selectAll),dt=(Object(i.q)(at,(t,e)=>ft(y.selectAll(t).filter(t=>e.taskId===t.taskId))),Object(i.q)(st,N,(t,e)=>ft(t)+ft(e))),bt=Object(i.q)(lt,X,st,N,A.c,(t,e,n,c,r)=>[...t.filter(t=>n.find(e=>e.taskId===t.id)).map(t=>{const c=e[t.projectId]?(new x.a).deserialize(e[t.projectId]):null,r=e[c.parentProject]?(new x.a).deserialize(e[c.parentProject]):null;return function(t,e,n,c){let r=n.filter(e=>t.id===e.taskId).sort((t,e)=>t.startTime-e.startTime);const o=Object(L.chain)(r).groupBy(t=>z.a.unix(t.startTime).format("YYYY-MM-DD")).mapValues(t=>t[0].id).invert().value();return r=r.map(t=>Object.assign(Object.assign({},t),{assigneeName:mt(e,t.userId)})),{id:t.id,projectName:e.name,taskName:t.title,workType:"-",assigneeName:mt(e,t.assigneeId),createdTime:1e3*r[0].startTime,timeWorked:ft(r),taskId:t.id,times:[...r],type:"task",taskTimeDates:o,projectId:e.id,assigneeId:t.assigneeId,workTypeId:null,createdDate:z.a.unix(r[0].startTime).format("YYYY-MM-DD"),parentProjectName:c?c.name:null}}(t,c,n,r)}),...c.map(t=>{const n=e[t.projectId]?(new x.a).deserialize(e[t.projectId]):null,c=e[n.parentProject]?(new x.a).deserialize(e[n.parentProject]):null;return function(t,e,n,c){const r=z.a.unix(t.startTime).format("YYYY-MM-DD");return{id:t.id,projectName:e.name,taskName:"-",workType:n?n.name:"-",assigneeName:mt(e,t.userId),createdTime:1e3*t.startTime,timeWorked:ft([t]),taskId:t.taskId,times:[t],type:"trackedTime",taskTimeDates:{[t.id]:r},projectId:e.id,assigneeId:t.userId,workTypeId:n?n.id:null,createdDate:r,parentProjectName:c?c.name:null}}(t,n,r[t.workTypeId],c)})]),pt=Object(i.q)(N,A.c,(t,e)=>t.reduce((t,n)=>(n.workTypeId&&e[n.workTypeId]&&(t[n.workTypeId]=e[n.workTypeId]),t),{})),gt=Object(i.q)(tt,A.h,bt,(t,e,n)=>{const c=t.reduce((t,n)=>(n.company!==e||n.members.forEach(e=>{t[e.id]=e}),t),{});return Object.keys(c).forEach(t=>{n.find(e=>e.assigneeId===t)||delete c[t]}),c});function mt(t,e){if(!e)return"-";const n=t.members.find(t=>t.id===e);return n?`${n.name} ${n.lastname}`:"-"}function ft(t){return t.reduce((t,e)=>t+(e.endTime-e.startTime-(e.pauseDuration||0)),0)}var ht=n("XNiG"),_t=n("2Vo4"),ut=n("itXk"),Ot=n("tmTa"),kt=n("sCmA"),Pt=n("R3tS"),Ct=n("RzEb"),Mt=n("Kj3r"),yt=n("lJxs"),Tt=n("UXun"),jt=n("PZkE"),xt=n("/uUt"),vt=n("1G5W"),wt=n("pLZG"),Et=n("IzEk"),It=n("txUS"),Ft=n("SnNG"),Dt=function(t){return t.ALL="all",t.INTERNAL="internal",t.EXTERNAL="external",t}({});const $t={all:[...Object.values(It.MemberRole)],internal:[It.MemberRole.EMPLOYEE,It.MemberRole.OWNER,It.MemberRole.SUPERVISOR],external:[It.MemberRole.EXTERNAL,It.MemberRole.EXTERNALSUPERVISOR]},Ut={today:{name:"today",translationKey:"today",startMoment:t=>t.clone().startOf("day"),endMoment:t=>t.clone().endOf("day"),trackEvent:Ft.a.TRACKED_TIME_FILTER_DATE_TODAY_CLICKED},yesterday:{name:"yesterday",translationKey:"yesterday",startMoment:t=>t.clone().subtract(1,"days").startOf("day"),endMoment:t=>t.clone().subtract(1,"days").endOf("day"),trackEvent:Ft.a.TRACKED_TIME_FILTER_DATE_YESTERDAY_CLICKED},lastWeek:{name:"lastWeek",translationKey:"last-week",startMoment:t=>t.clone().subtract(1,"weeks").startOf("isoWeek"),endMoment:t=>t.clone().subtract(1,"weeks").endOf("isoWeek"),trackEvent:Ft.a.TRACKED_TIME_FILTER_DATE_LAST_WEEK_CLICKED},lastMonth:{name:"lastMonth",translationKey:"last-month",startMoment:t=>t.clone().subtract(1,"months").startOf("month"),endMoment:t=>t.clone().subtract(1,"months").endOf("month"),trackEvent:Ft.a.TRACKED_TIME_FILTER_DATE_LAST_MONTH_CLICKED},custom:{name:"custom",translationKey:"custom",trackEvent:Ft.a.TRACKED_TIME_FILTER_DATE_CUSTOM_CLICKED}};var St=function(t){return t.PROJECT="project",t.MEMEBR="member",t.WORK_TYPE="workType",t.DATE="date",t}({}),Rt=n("3Pt+"),Bt=n("rcMR"),Nt=n("eIep"),At=n("5+tZ"),Lt=n("LcAk"),Kt=n("fXoL"),zt=n("gdcA"),Wt=n("Xlwt"),Yt=n("TY1r"),Qt=n("A2Vd"),Vt=n("6wtU"),qt=n("8h8E"),Ht=n("+J/9"),Gt=n("LRne"),Jt=n("SSqQ"),Xt=n("QKoI");function Zt(t,e){if(1&t&&(Kt.Ub(0,"div",13),Kt.Ub(1,"mat-icon",14),Kt.Pc(2,"folder"),Kt.Tb(),Kt.Ub(3,"div"),Kt.Pc(4),Kt.Tb(),Kt.Tb()),2&t){const t=Kt.kc().ngIf;Kt.Bb(4),Kt.Qc(t.parent.name)}}function te(t,e){1&t&&(Kt.Ub(0,"div",15),Kt.Ub(1,"mat-icon",14),Kt.Pc(2,"folder "),Kt.Tb(),Kt.Tb())}function ee(t,e){if(1&t&&(Kt.Ub(0,"div",16),Kt.Pb(1,"app-indicator",17),Kt.Tb()),2&t){const t=Kt.kc().ngIf;Kt.Bb(1),Kt.rc("project",t.project)}}function ne(t,e){if(1&t&&(Kt.Ub(0,"div",18),Kt.Pc(1),Kt.Tb()),2&t){const t=Kt.kc().ngIf;Kt.Bb(1),Kt.Rc(" ",t.project.orderNumber," ")}}function ce(t,e){if(1&t&&(Kt.Ub(0,"div",19),Kt.Pc(1),Kt.Tb()),2&t){const t=Kt.kc().ngIf;Kt.Bb(1),Kt.Tc(" ",t.project.street," , ",t.project.zipcode," ",t.project.city," ")}}function re(t,e){1&t&&(Kt.Ub(0,"mat-icon",20),Kt.Pc(1," chevron_right "),Kt.Tb())}function oe(t,e){if(1&t&&Kt.Pb(0,"mat-checkbox",21),2&t){const t=Kt.kc(2);Kt.rc("checked",t.checked)}}const ae=function(t){return{pointer:t}};function ie(t,e){if(1&t){const t=Kt.Vb();Kt.Sb(0),Kt.Nc(1,Zt,5,1,"div",1),Kt.Ub(2,"div",2),Kt.gc("click",(function(){Kt.Ec(t);const n=e.ngIf;return Kt.kc().itemClicked(n.project)})),Kt.Nc(3,te,3,0,"div",3),Kt.Nc(4,ee,2,1,"div",4),Kt.Ub(5,"div",5),Kt.Ub(6,"div",6),Kt.Pc(7),Kt.Tb(),Kt.Nc(8,ne,2,1,"div",7),Kt.Nc(9,ce,2,3,"div",8),Kt.Tb(),Kt.Ub(10,"div",9),Kt.Nc(11,re,2,0,"mat-icon",10),Kt.Ub(12,"div",11),Kt.gc("click",(function(){return Kt.Ec(t),Kt.kc().toggleProjectSelection()})),Kt.Nc(13,oe,1,1,"mat-checkbox",12),Kt.Tb(),Kt.Tb(),Kt.Tb(),Kt.Rb()}if(2&t){const t=e.ngIf,n=Kt.kc();Kt.Bb(1),Kt.rc("ngIf",t.parent&&n.displayParent),Kt.Bb(1),Kt.rc("ngClass",Kt.wc(9,ae,t.project.projectType===n.ProjectType.FOLDER)),Kt.Bb(1),Kt.rc("ngIf",t.project.projectType===n.ProjectType.FOLDER),Kt.Bb(1),Kt.rc("ngIf",t.project.projectType!==n.ProjectType.FOLDER),Kt.Bb(3),Kt.Rc(" ",t.project.name," "),Kt.Bb(1),Kt.rc("ngIf",t.project.orderNumber),Kt.Bb(1),Kt.rc("ngIf",t.project.street||t.project.zipcode||t.project.city),Kt.Bb(2),Kt.rc("ngIf",t.project.projectType===n.ProjectType.FOLDER),Kt.Bb(2),Kt.rc("ngIf",t.project.projectType!==n.ProjectType.FOLDER)}}let le=(()=>{class t{constructor(t){this.store=t,this.folderClicked=new Kt.n,this.checkedClicked=new Kt.n,this.ProjectType=Bt.b}ngOnChanges(t){t.projectId&&(this.project$=this.store.select(ct,{projectId:t.projectId.currentValue}).pipe(Object(Nt.a)(t=>t.parentProject?this.store.select(ct,{projectId:t.parentProject}).pipe(Object(yt.a)(e=>({project:t,parent:e}))):Object(Gt.a)({project:t}))))}itemClicked(t){t.projectType===Bt.b.FOLDER&&this.folderClicked.emit()}toggleProjectSelection(){this.checkedClicked.emit()}}return t.\u0275fac=function(e){return new(e||t)(Kt.Ob(i.h))},t.\u0275cmp=Kt.Ib({type:t,selectors:[["app-project-item"]],inputs:{projectId:"projectId",checked:"checked",displayParent:"displayParent"},outputs:{folderClicked:"folderClicked",checkedClicked:"checkedClicked"},features:[Kt.zb],decls:2,vars:3,consts:[[4,"ngIf"],["class","cn-filter__project-item--parent-folder d-flex align-items-center",4,"ngIf"],[1,"d-flex",3,"ngClass","click"],["class","mr-2 cn-filter__project-item--icon",4,"ngIf"],["class","mr-1 cn-filter__project-item--icon align-self-center",4,"ngIf"],[1,"overflow-hidden"],[1,"cn-filter__project-item--title","text-truncate"],["class","cn-filter__project-item--id text-truncate",4,"ngIf"],["class","cn-filter__project-item--address text-truncate",4,"ngIf"],[1,"ml-auto","mr-3"],["class","pointer",4,"ngIf"],["appEventStopPropagation","",1,"pointer",3,"click"],["class","no-events",3,"checked",4,"ngIf"],[1,"cn-filter__project-item--parent-folder","d-flex","align-items-center"],["fontSet","material-icons-sharp"],[1,"mr-2","cn-filter__project-item--icon"],[1,"mr-1","cn-filter__project-item--icon","align-self-center"],[3,"project"],[1,"cn-filter__project-item--id","text-truncate"],[1,"cn-filter__project-item--address","text-truncate"],[1,"pointer"],[1,"no-events",3,"checked"]],template:function(t,e){1&t&&(Kt.Nc(0,ie,14,11,"ng-container",0),Kt.lc(1,"async")),2&t&&Kt.rc("ngIf",Kt.mc(1,1,e.project$))},directives:[c.p,c.n,qt.a,Yt.a,Xt.a,Jt.a],pipes:[c.b],styles:[".cn-filter__project-item.folder[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:0}.cn-filter__project-item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:5px}.cn-filter__project-item--id[_ngcontent-%COMP%]{font-family:Helvetica,sans-serif;font-weight:700;font-size:12px;max-width:215px}.cn-filter__project-item--title[_ngcontent-%COMP%]{font-size:14px;font-weight:700;max-width:215px}.cn-filter__project-item--container[_ngcontent-%COMP%]{max-height:500px;overflow:auto;width:320px}.cn-filter__project-item--address[_ngcontent-%COMP%]{font-size:12px;opacity:.6;max-width:215px}.cn-filter__project-item--icon[_ngcontent-%COMP%]{color:#a09691}.cn-filter__project-item--icon[_ngcontent-%COMP%]   app-indicator[_ngcontent-%COMP%]{min-width:50px;min-height:44px;align-self:center;display:inline-block}.cn-filter__project-item--parent-folder[_ngcontent-%COMP%]{font-size:11px;margin-left:10px;font-weight:700}.cn-filter__project-item--parent-folder[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#a09691;font-size:17px}"],changeDetection:0}),t})();var se=n("sYmb");const de=["projectsSearch"];function be(t,e){if(1&t){const t=Kt.Vb();Kt.Ub(0,"div",16),Kt.gc("click",(function(){return Kt.Ec(t),Kt.kc(3).clearFilter()})),Kt.Pc(1),Kt.lc(2,"translate"),Kt.Tb()}2&t&&(Kt.Bb(1),Kt.Rc(" ",Kt.mc(2,1,"dashboard.timeTracking.filters.clearSelections")," "))}function pe(t,e){if(1&t){const t=Kt.Vb();Kt.Ub(0,"div",11),Kt.Ub(1,"div",12),Kt.Ub(2,"input",13,14),Kt.gc("keyup",(function(){Kt.Ec(t);const e=Kt.Ac(3);return Kt.kc(2).onProjectSearchChange(e.value)})),Kt.lc(4,"translate"),Kt.Tb(),Kt.Tb(),Kt.Nc(5,be,3,3,"div",15),Kt.lc(6,"async"),Kt.Tb()}if(2&t){const t=Kt.kc(2);Kt.Bb(2),Kt.rc("placeholder",Kt.mc(4,2,"dashboard.timeTracking.filters.search")),Kt.Bb(3),Kt.rc("ngIf",Kt.mc(6,4,t.selectedProjectsLength$))}}function ge(t,e){if(1&t){const t=Kt.Vb();Kt.Ub(0,"div",17),Kt.gc("click",(function(){return Kt.Ec(t),Kt.kc(2).folderClicked()})),Kt.Ub(1,"mat-icon",18),Kt.Pc(2,"keyboard_arrow_left"),Kt.Tb(),Kt.Ub(3,"mat-icon",19),Kt.Pc(4,"folder"),Kt.Tb(),Kt.Ub(5,"div",20),Kt.Pc(6),Kt.Tb(),Kt.Tb()}if(2&t){const t=e.ngIf;Kt.Bb(6),Kt.Rc(" ",t.name," ")}}function me(t,e){if(1&t){const t=Kt.Vb();Kt.Ub(0,"div",21),Kt.Ub(1,"div",22),Kt.Ub(2,"app-project-item",23),Kt.gc("folderClicked",(function(){Kt.Ec(t);const n=e.$implicit;return Kt.kc(2).folderClicked(n.id)}))("checkedClicked",(function(){Kt.Ec(t);const n=e.$implicit;return Kt.kc(2).toggleProjectSelection(n.id)})),Kt.lc(3,"async"),Kt.Tb(),Kt.Tb(),Kt.Tb()}if(2&t){const t=e.$implicit,n=Kt.kc().ngIf,c=Kt.kc();Kt.Bb(2),Kt.rc("displayParent",!Kt.mc(3,3,c.selectedParentProject$)&&!!n.searchKey)("projectId",t.id)("checked",!!n.selectedProjects[t.id])}}function fe(t,e){1&t&&(Kt.Ub(0,"div",24),Kt.Pc(1),Kt.lc(2,"translate"),Kt.Tb()),2&t&&(Kt.Bb(1),Kt.Rc(" ",Kt.mc(2,1,"dashboard.timeTracking.filters.resultsNotFound")," "))}function he(t,e){if(1&t&&(Kt.Ub(0,"div",4),Kt.Nc(1,pe,7,6,"div",5),Kt.Ub(2,"div",6),Kt.Nc(3,ge,7,1,"div",7),Kt.lc(4,"async"),Kt.Ub(5,"cdk-virtual-scroll-viewport",8),Kt.Nc(6,me,4,5,"div",9),Kt.lc(7,"async"),Kt.Nc(8,fe,3,3,"div",10),Kt.lc(9,"async"),Kt.Tb(),Kt.Tb(),Kt.Tb()),2&t){const t=e.ngIf,n=Kt.kc();Kt.Bb(1),Kt.rc("ngIf",!t.selectedParentProjectId),Kt.Bb(2),Kt.rc("ngIf",Kt.mc(4,4,n.selectedParentProject$)),Kt.Bb(3),Kt.rc("cdkVirtualForOf",Kt.mc(7,6,n.projects$)),Kt.Bb(2),Kt.rc("ngIf",0===Kt.mc(9,8,n.projects$).length)}}let _e=(()=>{class t{constructor(t,e,n,c,r){this.store=t,this.projectSortAndSearchHelper=e,this.data=n,this.dialogRef=c,this.trackingService=r,this.projectsFilter$=new _t.a({searchKey:"",selectedParentProjectId:null,selectedProjects:{}}),this.FilterKeys=St,this.selectedParentProjectId$=this.projectsFilter$.pipe(Object(jt.a)("selectedParentProjectId"),Object(yt.a)(t=>t.selectedParentProjectId)),this.projects$=this.selectedParentProjectId$.pipe(Object(Nt.a)(t=>Object(ut.b)([this.store.select(nt,{projectId:t}),this.projectsFilter$]).pipe(Object(yt.a)(([t,e])=>{let n=t;return e.selectedParentProjectId||(n=t.filter(t=>this.projectSortAndSearchHelper.defaultSearchCondition(t,e.searchKey))),!e.searchKey&&e.searchKey.length>0&&(n=n.filter(t=>!t.parentProject)),Object(L.orderBy)(n,[t=>!e.selectedProjects[t.id],"projectType",t=>t.name.toLowerCase()])})))),this.selectedParentProject$=this.projectsFilter$.pipe(Object(yt.a)(t=>t.selectedParentProjectId),Object(At.a)(t=>this.store.select(ct,{projectId:t}))),this.selectedProjectsLength$=this.projectsFilter$.pipe(Object(yt.a)(t=>Object.keys(t.selectedProjects).length));const o=Object.assign(Object.assign({},this.projectsFilter$.value),{selectedProjects:Object.assign({},this.data.selectedProjects)});this.projectsFilter$.next(o)}clearFilter(){this.searchInput.nativeElement.value="",this.projectsFilter$.next(Object.assign(Object.assign({},this.projectsFilter$.value),{selectedProjects:{},searchKey:""}))}onProjectSearchChange(t){this.projectsFilter$.next(Object.assign(Object.assign({},this.projectsFilter$.value),{searchKey:t})),t&&this.logSearchEvent(Ft.a.TRACKED_TIME_FILTER_PROJECT_SEARCH,t)}folderClicked(t=null){this.projectsFilter$.next(Object.assign(Object.assign({},this.projectsFilter$.value),{selectedParentProjectId:t,searchKey:""}))}toggleProjectSelection(t){const e=Object.assign({},this.projectsFilter$.value);e.selectedProjects[t]?delete e.selectedProjects[t]:e.selectedProjects[t]=t,this.projectsFilter$.next(e)}applyFilter(){this.dialogRef.close({selectedProjects:this.projectsFilter$.value.selectedProjects})}closeWithoutSaving(){this.dialogRef.close()}logSearchEvent(t,e){return Object(a.a)(this,void 0,void 0,(function*(){yield this.trackingService.emitTrackingEvent(t,{searchKey:e})}))}}return t.\u0275fac=function(e){return new(e||t)(Kt.Ob(i.h),Kt.Ob(zt.a),Kt.Ob(Lt.a),Kt.Ob(Lt.g),Kt.Ob(Vt.a))},t.\u0275cmp=Kt.Ib({type:t,selectors:[["app-project-filter-dialog"]],viewQuery:function(t,e){var n;1&t&&Kt.Uc(de,!0),2&t&&Kt.zc(n=Kt.hc())&&(e.searchInput=n.first)},inputs:{selectedProjectsInput:"selectedProjectsInput"},decls:8,vars:6,consts:[[1,"d-flex","justify-content-between","align-items-center","py-3"],["mat-flat-button","","color","primary",3,"click"],[1,"pointer",3,"click"],["appEventStopPropagation","","class","cn-filter",4,"ngIf"],["appEventStopPropagation","",1,"cn-filter"],["class","cn-search__container row no-gutters align-items-center",4,"ngIf"],[1,"cn-filter__project-item--container"],["class","cn-filter__project-item folder text-truncate d-flex align-items-center pointer",3,"click",4,"ngIf"],["itemSize","83",1,"cn-filter__scroll-viewport"],["class","cn-filter__project-item d-flex w-100 align-items-center",4,"cdkVirtualFor","cdkVirtualForOf"],["class","cn-filter__empty-text",4,"ngIf"],[1,"cn-search__container","row","no-gutters","align-items-center"],[1,"col"],["matInput","",1,"cn-search__input",3,"placeholder","keyup"],["projectsSearch",""],["class","col-auto cn-filter__clear font-weight-bold color-primary",3,"click",4,"ngIf"],[1,"col-auto","cn-filter__clear","font-weight-bold","color-primary",3,"click"],[1,"cn-filter__project-item","folder","text-truncate","d-flex","align-items-center","pointer",3,"click"],[1,"pointer"],["fontSet","material-icons-sharp",1,"cn-filter__project-item--icon","mr-2"],[1,"cn-filter__project-item--title","text-truncate"],[1,"cn-filter__project-item","d-flex","w-100","align-items-center"],[1,"w-100"],[3,"displayParent","projectId","checked","folderClicked","checkedClicked"],[1,"cn-filter__empty-text"]],template:function(t,e){1&t&&(Kt.Ub(0,"div",0),Kt.Ub(1,"button",1),Kt.gc("click",(function(){return e.applyFilter()})),Kt.Pc(2),Kt.lc(3,"translate"),Kt.Tb(),Kt.Ub(4,"mat-icon",2),Kt.gc("click",(function(){return e.closeWithoutSaving()})),Kt.Pc(5,"close"),Kt.Tb(),Kt.Tb(),Kt.Nc(6,he,10,10,"div",3),Kt.lc(7,"async")),2&t&&(Kt.Bb(2),Kt.Qc(Kt.mc(3,2,"dashboard.timeTracking.filters.apply")),Kt.Bb(4),Kt.rc("ngIf",Kt.mc(7,4,e.projectsFilter$)))},directives:[Wt.b,Yt.a,c.p,qt.a,Ht.d,Ht.a,Ht.c,Qt.b,le],pipes:[se.d,c.b],styles:[".cn-filter__scroll-viewport[_ngcontent-%COMP%]{height:490px}.cn-filter__scroll-viewport[_ngcontent-%COMP%]:nth-child(2){height:407px}","h2[_ngcontent-%COMP%]{font-size:24px;font-family:Archive,sans-serif}.mycraftnote-table[_ngcontent-%COMP%]{background-color:transparent;color:var(--craftnote-table-font)}.mycraftnote-table__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.mycraftnote-table[_ngcontent-%COMP%]   .table-row-header[_ngcontent-%COMP%]{background-color:var(--app-background-color);border-bottom:2px solid var(--app-background-color);height:48px}.mycraftnote-table[_ngcontent-%COMP%]   .table-row-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:var(--craftnote-table-header-font);padding:.75rem;font-size:.9rem;line-height:0;font-weight:700}.mycraftnote-table[_ngcontent-%COMP%]   .table-row-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(.index-col){background-color:var(--craftnote-table-header-background);border-top:1px solid var(--craftnote-table-header-border-color)}.mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{background-color:transparent}.mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid var(--app-background-color);padding:.75rem;font-size:.9rem;line-height:0}.mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:nth-child(odd)   td[_ngcontent-%COMP%]:not(.index-col){background-color:var(--craftnote-table-cell-odd-background)}.mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%]:not(.index-col){background-color:var(--craftnote-table-cell-even-background)}.mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]:not(.index-col){background-color:var(--craftnote-table-cell-hover-background)}.mycraftnote-table[_ngcontent-%COMP%]   .table-row.cdk-drag-placeholder[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(.index-col){background:var(--app-background-color);color:transparent;box-shadow:inset 0 2px 0 var(--app-primary)}.mycraftnote-table[_ngcontent-%COMP%]   .table-row.cdk-drag-placeholder[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]     svg{visibility:hidden}.mycraftnote-table[_ngcontent-%COMP%]   .index-col[_ngcontent-%COMP%]{width:100px}.mycraftnote-table[_ngcontent-%COMP%]   .drag-indicator[_ngcontent-%COMP%]{color:#858585;font-size:14px;cursor:move;width:14px}.mycraftnote-table[_ngcontent-%COMP%]   .drag-indicator[_ngcontent-%COMP%]     svg{fill:#858585}.mycraftnote-table[_ngcontent-%COMP%]   .actions-col[_ngcontent-%COMP%]{width:20%;color:#858585}.cdk-preview[_ngcontent-%COMP%]{background:var(--app-background-color);box-shadow:0 0 5px 1px rgba(0,0,0,.8);height:48px}.cdk-preview[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:.75rem;font-size:.9rem;line-height:1.5rem}.cdk-preview[_ngcontent-%COMP%]   .actions-col[_ngcontent-%COMP%]{color:#858585}.cdk-preview[_ngcontent-%COMP%]   .drag-indicator[_ngcontent-%COMP%]     svg{fill:#858585}.cdk-drag-animating[_ngcontent-%COMP%], .cdk-drop-list-dragging[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .15s cubic-bezier(0,0,.2,1)}.mycraftnote-table[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.mycraftnote-table__container[_ngcontent-%COMP%]{background-color:var(--background-color);border-radius:5px}.mycraftnote-table__container[_ngcontent-%COMP%]     mat-paginator{font-family:Montserrat,sans-serif}.mycraftnote-table__container[_ngcontent-%COMP%]     mat-paginator .mat-form-field-appearance-legacy .mat-form-field-wrapper{padding:0 0 5px}.mycraftnote-table__container[_ngcontent-%COMP%]     mat-paginator .mat-form-field-underline{display:none}.mycraftnote-table__container[_ngcontent-%COMP%]     mat-paginator .mat-form-field-flex{padding:4px 10px;border:1px solid grey;border-radius:3px}.mycraftnote-table__container[_ngcontent-%COMP%]     mat-paginator .mat-form-field-infix{margin:0 auto;padding:5px 0;border:0}.mycraftnote-table__container[_ngcontent-%COMP%]     mat-paginator .mat-icon-button[disabled]{opacity:.4}.mycraftnote-table__container[_ngcontent-%COMP%]     mat-paginator .mat-paginator-container{height:70px;background-color:var(--background-color)}.mycraftnote-table__container[_ngcontent-%COMP%]     mat-paginator .mat-paginator-container .mat-paginator-page-size{margin-right:0}.mycraftnote-table__container[_ngcontent-%COMP%]     mat-paginator .mat-paginator-range-actions .mat-paginator-range-label{margin:0 40px 0 24px}.mycraftnote-table__container[_ngcontent-%COMP%]     mat-paginator .mat-paginator-range-actions .mat-icon-button{border:1px solid grey;border-radius:3px;height:34px;width:34px;line-height:30px;margin-right:10px}.mycraftnote-table__header[_ngcontent-%COMP%]{padding:0 42px}.mycraftnote-table__title[_ngcontent-%COMP%]{font-size:28px;font-family:Montserrat,sans-serif;font-weight:700}.mycraftnote-table[_ngcontent-%COMP%]   .table-row-header[_ngcontent-%COMP%]{background-color:var(--background-color);border:0;height:auto}.mycraftnote-table[_ngcontent-%COMP%]   .table-row-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{opacity:.3;text-transform:capitalize;border:0!important}.mycraftnote-table[_ngcontent-%COMP%]   .table-row-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(.index-col){background-color:var(--background-color)}.mycraftnote-table[_ngcontent-%COMP%]   .table-row-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px}.mycraftnote-table[_ngcontent-%COMP%]   .table-row-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child:not(.index-col), .mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child:not(.index-col){padding-left:42px}.mycraftnote-table[_ngcontent-%COMP%]   .table-row-footer[_ngcontent-%COMP%]{background-color:var(--background-color)}.mycraftnote-table[_ngcontent-%COMP%]   .table-row-footer[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0;padding-top:16px}.mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{cursor:pointer}.mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:nth-child(odd)   td[_ngcontent-%COMP%]:not(.index-col){background-color:var(--background-color)}.mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%]:not(.index-col){background-color:var(--craftnote-table-cell-even-background-v2)}.mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:hover:not(.expanded-row), .mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:hover:not(.expanded-row)   td[_ngcontent-%COMP%]:not(.index-col){background-color:var(--craftnote-table-cell-hover-background)}.mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;font-size:12px}.mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td.no-padding[_ngcontent-%COMP%]{padding:0!important}.mycraftnote-table[_ngcontent-%COMP%]   .table-row.expanded-row[_ngcontent-%COMP%]{display:none}.mycraftnote-table[_ngcontent-%COMP%]   .table-row.expanded-row.expanded[_ngcontent-%COMP%]{display:table-row}.mycraftnote-table.with-expandable-row[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%]:not(.index-col){background-color:var(--background-color)}.mycraftnote-table.with-expandable-row[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:nth-child(4n+3)   td[_ngcontent-%COMP%]:not(.index-col), .mycraftnote-table.with-expandable-row[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:nth-child(4n+4)   td[_ngcontent-%COMP%]:not(.index-col){background-color:var(--craftnote-table-cell-even-background-v2)}.mycraftnote-table[_ngcontent-%COMP%]   .sub-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:48px;font-size:14.4px}.mycraftnote-table[_ngcontent-%COMP%]   .column_name[_ngcontent-%COMP%]:not(.d-flex){max-width:250px}.mycraftnote-table[_ngcontent-%COMP%]   .column_name[_ngcontent-%COMP%]:not(.d-flex) > span[_ngcontent-%COMP%]{vertical-align:inherit}.mycraftnote-table[_ngcontent-%COMP%]   .column_name[_ngcontent-%COMP%]:not(.d-flex) > span[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle;line-height:22px}.mycraftnote-table[_ngcontent-%COMP%]   .column_date[_ngcontent-%COMP%]{width:10%;min-width:150px}.mycraftnote-table[_ngcontent-%COMP%]   .column_assignee[_ngcontent-%COMP%]{width:15%;min-width:175px;white-space:nowrap}.mycraftnote-table[_ngcontent-%COMP%]   .column_time-spent[_ngcontent-%COMP%]{width:15%;min-width:250px}.time-tracking-container[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.time-tracking-container[_ngcontent-%COMP%]   mat-drawer-container[_ngcontent-%COMP%]{background-color:transparent}.time-tracking-container[_ngcontent-%COMP%]   .no-padding[_ngcontent-%COMP%]{padding:0}.time-tracking-container[_ngcontent-%COMP%]   mat-drawer[_ngcontent-%COMP%], .time-tracking-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]{width:380px;border-top-left-radius:5px}.time-tracking-container[_ngcontent-%COMP%]   .entry-details[_ngcontent-%COMP%]{padding:20px 0}.time-tracking-container[_ngcontent-%COMP%]   .entry-details[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:0 15px}.time-tracking-container[_ngcontent-%COMP%]   .entry-details__header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:52px;text-transform:uppercase}.time-tracking-container[_ngcontent-%COMP%]   .entry-details__item[_ngcontent-%COMP%]{font-size:14px;color:var(--time-tracking-sidebar-font-color);margin-bottom:24px;word-break:break-all}.time-tracking-container[_ngcontent-%COMP%]   .entry-details__item--header[_ngcontent-%COMP%]{font-size:12px;opacity:.5;margin-bottom:5px}.time-tracking-container[_ngcontent-%COMP%]   .entry-details__time-entry[_ngcontent-%COMP%]{margin-bottom:5px}.time-tracking-container[_ngcontent-%COMP%]   .entry-details__time-entry[_ngcontent-%COMP%]:first-of-type > div[_ngcontent-%COMP%]{margin-top:0}.time-tracking-container[_ngcontent-%COMP%]   .entry-details__time-entry--date[_ngcontent-%COMP%]{background-color:var(--filter-btn-background-color);color:var(--filter-font-color);font-weight:700;padding:3px 15px;margin:15px 0}.time-tracking-container[_ngcontent-%COMP%]   .entry-details__time-entry--total[_ngcontent-%COMP%]{background-color:#85746e;font-weight:700;color:#fff;padding:3px 15px;margin-top:15px;margin-bottom:15px}.time-tracking-container[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]{padding:0 42px;font-size:12px;margin-bottom:28px}.time-tracking-container[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   mat-icon[fontSet][_ngcontent-%COMP%], .time-tracking-container[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   mat-icon[svgIcon][_ngcontent-%COMP%]{transform:scale(.75)}.cn-filter__empty-text[_ngcontent-%COMP%]{text-align:center;font-family:Montserrat,sans-serif;font-size:12px;padding:15px}.cn-filter__clear[_ngcontent-%COMP%]{color:var(--app-primary);font-size:12px;padding-left:15px;cursor:pointer}.cn-filter__type--button[_ngcontent-%COMP%]{margin-bottom:12px;width:100%;font-size:12px}.cn-filter__type--button[_ngcontent-%COMP%]:last-child{margin-bottom:0}.cn-filter__line-break[_ngcontent-%COMP%]{border-bottom:1px solid var(--filter-btn-background-color);margin:12px 0}.cn-filter__members[_ngcontent-%COMP%]{max-height:350px;overflow:auto}.cn-filter__type--group[_ngcontent-%COMP%]{width:100%}.cn-filter__type--date[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;width:180px;border-radius:5px;background-color:var(--filter-btn-background-color);color:var(--filter-font-color);font-size:12px;padding:10px 30px;text-align:center;margin-bottom:5px;font-weight:700}.cn-filter__type--date[_ngcontent-%COMP%]:last-child{margin-bottom:0}.cn-filter__form-group[_ngcontent-%COMP%]{position:relative}.cn-filter__form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:40px;border:1px solid #85746e;border-radius:5px;padding:0 15px}.cn-filter__form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;left:10px;margin-top:7px;line-height:20px;color:#34180e;pointer-events:none;padding:3px 5px}.cn-filter__form-group.active[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{top:0;margin-top:-13px;background-color:var(--background-color);font-size:12px}.cn-filter__form-field[_ngcontent-%COMP%]{margin-right:15px}.cn-filter__form-field[_ngcontent-%COMP%]     .mat-form-field-wrapper{position:relative;margin:0!important;padding-bottom:0;height:40px}.cn-filter__form-field[_ngcontent-%COMP%]     .mat-form-field-flex{height:43px;padding-right:5px}.cn-filter__form-field[_ngcontent-%COMP%]     .mat-form-field-infix{margin:3px 0 0;border:0;padding:0;align-self:center}.cn-filter__form-field[_ngcontent-%COMP%]     .mat-form-field-suffix{margin-top:5px}.cn-filter__project-item[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;color:var(--filter-font-color);width:450px;height:83px;border-bottom:1px solid rgba(0,0,0,.1)}.cn-filter__project-item.folder[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:0}.cn-filter__project-item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:5px}.cn-filter__project-item--id[_ngcontent-%COMP%]{font-family:Helvetica,sans-serif;font-weight:700;font-size:12px;max-width:215px}.cn-filter__project-item--title[_ngcontent-%COMP%]{font-size:14px;font-weight:700;max-width:215px}.cn-filter__project-item--container[_ngcontent-%COMP%]{height:490px;overflow:auto;width:470px}.cn-filter__project-item--container--project-item-container[_ngcontent-%COMP%]{height:350px;width:100%}.cn-filter__project-item--address[_ngcontent-%COMP%]{font-size:12px;opacity:.6;max-width:215px}.cn-filter__project-item--icon[_ngcontent-%COMP%]{color:#a09691}.cn-filter__project-item--icon[_ngcontent-%COMP%]   app-indicator[_ngcontent-%COMP%]{min-width:50px;min-height:44px;align-self:center;display:inline-block}.cn-search__input[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;background-color:var(--filter-btn-background-color);color:var(--filter-font-color);padding:10px 8px;border-radius:4px;height:40px;font-size:14px}.cn-search__container[_ngcontent-%COMP%]{margin-bottom:25px}  .mat-checkbox,   .mat-radio-button{font-family:Montserrat,sans-serif}  .mat-checkbox label,   .mat-radio-button label{margin-bottom:0}  .mat-radio-container{transform:scale(.8)}  .mat-checkbox-inner-container{margin-left:2px!important;margin-right:12px!important}  .mat-sort-header-container{height:18px}  .mat-sort-header-button{height:100%}"]}),t})();var ue=n("N1h5"),Oe=n("/JY8"),ke=n("J6jy"),Pe=n("T2+N"),Ce=n("/4oc"),Me=n("IRfi"),ye=n("BcPx");let Te=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Kt.Jb({type:t,selectors:[["","ch-primary-button-text",""]]}),t})();function je(t,e){if(1&t&&(Kt.Ub(0,"mat-icon"),Kt.Pc(1),Kt.Tb()),2&t){const t=Kt.kc();Kt.Bb(1),Kt.Qc(t.iconName)}}function xe(t,e){1&t&&(Kt.Ub(0,"div",3),Kt.pc(1),Kt.Tb())}const ve=[[["span"]]],we=function(t){return{"ch-primary-button--with-text":t}},Ee=["span"];let Ie=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Kt.Ib({type:t,selectors:[["ch-primary-button"]],contentQueries:function(t,e,n){var c;1&t&&Kt.Hb(n,Te,!0),2&t&&Kt.zc(c=Kt.hc())&&(e.textContent=c.first)},inputs:{iconName:"iconName"},ngContentSelectors:Ee,decls:4,vars:5,consts:[[1,"mat-flat-button","mat-button-base","mat-primary","ch-primary-button",3,"ngClass"],[1,"ch-primary-button__line"],[3,"ngIf"],[1,"ch-primary-button__text-container"]],template:function(t,e){1&t&&(Kt.qc(ve),Kt.Ub(0,"button",0),Kt.Ub(1,"div",1),Kt.Nc(2,je,2,1,"ng-template",2),Kt.Nc(3,xe,2,0,"ng-template",2),Kt.Tb(),Kt.Tb()),2&t&&(Kt.rc("ngClass",Kt.wc(3,we,e.textContent)),Kt.Bb(2),Kt.rc("ngIf",e.iconName),Kt.Bb(1),Kt.rc("ngIf",e.textContent))},directives:[c.n,c.p,Yt.a],styles:[".ch-primary-button[_ngcontent-%COMP%]{display:flex;line-height:normal;align-items:center;min-width:40px;height:40px;font-weight:600;font-size:15px;padding:0 8px}.ch-primary-button--with-text[_ngcontent-%COMP%]{min-width:150px}.ch-primary-button__line[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:33% 33% 33%}.ch-primary-button__text-container[_ngcontent-%COMP%]{margin:0 20px;display:flex;align-items:center;justify-content:center}"]}),t})();var Fe=n("1OTw"),De=n("bLhV");function $e(t,e){1&t&&Kt.Qb(0)}const Ue=function(t){return{"cn-filter-dd__menu-btn--active":t}};function Se(t,e){if(1&t){const t=Kt.Vb();Kt.Ub(0,"div",6),Kt.gc("click",(function(){return Kt.Ec(t),Kt.kc().onFilterOpened()})),Kt.Nc(1,$e,1,0,"ng-container",7),Kt.Tb()}if(2&t){const t=Kt.kc(),e=Kt.Ac(8);Kt.rc("ngClass",Kt.wc(3,Ue,t.selectedItemsLength))("appTrack",t.trackingEvent),Kt.Bb(1),Kt.rc("ngTemplateOutlet",e)}}function Re(t,e){1&t&&Kt.Qb(0)}function Be(t,e){if(1&t){const t=Kt.Vb();Kt.Ub(0,"div",8),Kt.gc("menuClosed",(function(){return Kt.Ec(t),Kt.kc().onFilterClosed()}))("menuOpened",(function(){return Kt.Ec(t),Kt.kc().onFilterOpened()})),Kt.Nc(1,Re,1,0,"ng-container",7),Kt.Tb()}if(2&t){const t=Kt.kc(),e=Kt.Ac(4),n=Kt.Ac(8);Kt.rc("matMenuTriggerFor",e)("ngClass",Kt.wc(4,Ue,t.selectedItemsLength))("appTrack",t.trackingEvent),Kt.Bb(1),Kt.rc("ngTemplateOutlet",n)}}function Ne(t,e){1&t&&(Kt.pc(0,1),Kt.Ub(1,"mat-icon",9),Kt.Pc(2,"expand_more"),Kt.Tb())}const Ae=[[["",8,"filter-content"]],[["",8,"filter-text"]]],Le=[".filter-content",".filter-text"];let Ke=(()=>{class t{constructor(){this.providesMenu=!0,this.filterClosed=new Kt.n,this.filterOpened=new Kt.n}onFilterClosed(){this.filterClosed.emit()}onFilterOpened(){this.filterOpened.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Kt.Ib({type:t,selectors:[["app-filter"]],inputs:{selectedItemsLength:"selectedItemsLength",trackingEvent:"trackingEvent",providesMenu:"providesMenu"},outputs:{filterClosed:"filterClosed",filterOpened:"filterOpened"},ngContentSelectors:Le,decls:9,vars:2,consts:[[1,"cn-filter-dd"],["class","cn-filter-dd__menu-btn d-flex align-items-center",3,"ngClass","appTrack","click",4,"ngIf"],["class","cn-filter-dd__menu-btn d-flex align-items-center",3,"matMenuTriggerFor","ngClass","appTrack","menuClosed","menuOpened",4,"ngIf"],["menu","matMenu"],[1,"cn-filter-dd__menu-content"],["menuHead",""],[1,"cn-filter-dd__menu-btn","d-flex","align-items-center",3,"ngClass","appTrack","click"],[4,"ngTemplateOutlet"],[1,"cn-filter-dd__menu-btn","d-flex","align-items-center",3,"matMenuTriggerFor","ngClass","appTrack","menuClosed","menuOpened"],[1,"ml-2"]],template:function(t,e){1&t&&(Kt.qc(Ae),Kt.Ub(0,"div",0),Kt.Nc(1,Se,2,5,"div",1),Kt.Nc(2,Be,2,6,"div",2),Kt.Ub(3,"mat-menu",null,3),Kt.Ub(5,"div",4),Kt.pc(6),Kt.Tb(),Kt.Tb(),Kt.Tb(),Kt.Nc(7,Ne,3,0,"ng-template",null,5,Kt.Oc)),2&t&&(Kt.Bb(1),Kt.rc("ngIf",!e.providesMenu),Kt.Bb(1),Kt.rc("ngIf",e.providesMenu))},directives:[c.p,Fe.d,c.n,De.a,c.u,Fe.c,Yt.a],styles:[".cn-filter-dd[_ngcontent-%COMP%]{margin-right:15px}.cn-filter-dd[_ngcontent-%COMP%]   mat-menu[_ngcontent-%COMP%]{max-width:380px}.cn-filter-dd__menu-content[_ngcontent-%COMP%]{padding:15px;max-width:380px}.cn-filter-dd__menu-btn[_ngcontent-%COMP%]{padding:8px 10px;background-color:var(--filter-btn-background-color);border-radius:5px;font-size:12px;cursor:pointer}.cn-filter-dd__menu-btn[_ngcontent-%COMP%]     .fill{fill:var(--filter-font-color)}.cn-filter-dd__menu-btn--active[_ngcontent-%COMP%]{background-color:var(--filter-invert-btn-background-color);color:var(--filter-invert-font-color)}.cn-filter-dd__menu-btn--active[_ngcontent-%COMP%]     .fill{fill:var(--filter-invert-font-color)}  .mat-menu-content{padding:0!important}  .mat-menu-panel{max-width:380px!important;margin-top:10px;box-shadow:-2px 0 20px 0 rgba(52,24,14,.25)!important}"]}),t})();var ze=n("/o1g"),We=n("31NI");let Ye=(()=>{class t{constructor(t){this.translateService=t}transform(t=0){const e=this.translateService.instant("dashboard.timeTracking.hours"),n=this.translateService.instant("dashboard.timeTracking.minutes"),c=z.a.duration(1e3*t),r=Math.floor(c.asHours()),o=Math.floor(c.asMinutes())-60*r;return r?`${r} ${e} ${o} ${n}`:`${o} ${n}`}}return t.\u0275fac=function(e){return new(e||t)(Kt.Ob(se.e))},t.\u0275pipe=Kt.Nb({name:"taskTime",type:t,pure:!0}),t})();function Qe(t,e){1&t&&Kt.Qb(0)}function Ve(t,e){if(1&t&&(Kt.Ub(0,"div",30),Kt.Pc(1),Kt.lc(2,"date"),Kt.lc(3,"date"),Kt.Tb()),2&t){const t=e.ngIf;Kt.Bb(1),Kt.Sc(" ",Kt.nc(2,2,t,"EEEE"),", ",Kt.oc(3,5,t,"shortDate",void 0,"de-DE")," ")}}function qe(t,e){if(1&t&&(Kt.Ub(0,"div",31),Kt.Pc(1),Kt.lc(2,"taskTime"),Kt.lc(3,"translate"),Kt.Tb()),2&t){const t=Kt.kc().$implicit;Kt.Bb(1),Kt.Sc(" - ",Kt.mc(2,2,t.pauseDuration)," (",Kt.mc(3,4,"dashboard.timeTracking.break"),") ")}}function He(t,e){if(1&t&&(Kt.Ub(0,"div",25),Kt.Nc(1,Ve,4,10,"div",26),Kt.Ub(2,"div",27),Kt.Pc(3),Kt.lc(4,"date"),Kt.lc(5,"date"),Kt.Tb(),Kt.Ub(6,"div",28),Kt.Pc(7),Kt.lc(8,"taskTime"),Kt.Tb(),Kt.Nc(9,qe,4,6,"div",29),Kt.Tb()),2&t){const t=e.$implicit,n=Kt.kc(3);Kt.Bb(1),Kt.rc("ngIf",n.selectedEntry.taskTimeDates[t.id]),Kt.Bb(2),Kt.Sc(" ",Kt.nc(4,5,1e3*t.startTime,"H:mm")," - ",Kt.nc(5,8,1e3*t.endTime,"H:mm")," "),Kt.Bb(4),Kt.Rc(" ",Kt.mc(8,11,t.endTime-t.startTime)," "),Kt.Bb(2),Kt.rc("ngIf",t.pauseDuration)}}const Ge=function(t){return{project:t}};function Je(t,e){if(1&t){const t=Kt.Vb();Kt.Ub(0,"div",15),Kt.Ub(1,"div",16),Kt.Ub(2,"mat-icon",17),Kt.gc("click",(function(){return Kt.Ec(t),Kt.kc(2).drawer.toggle()})),Kt.Pc(3,"close"),Kt.Tb(),Kt.Ub(4,"span"),Kt.Pc(5),Kt.lc(6,"translate"),Kt.Tb(),Kt.Tb(),Kt.Ub(7,"div",18),Kt.Ub(8,"div",19),Kt.Pc(9),Kt.lc(10,"translate"),Kt.Tb(),Kt.Ub(11,"span"),Kt.Nc(12,Qe,1,0,"ng-container",20),Kt.Tb(),Kt.Tb(),Kt.Ub(13,"div",18),Kt.Ub(14,"div",19),Kt.Pc(15),Kt.lc(16,"translate"),Kt.Tb(),Kt.Ub(17,"span"),Kt.Pc(18),Kt.Tb(),Kt.Tb(),Kt.Ub(19,"div",18),Kt.Ub(20,"div",19),Kt.Pc(21),Kt.lc(22,"translate"),Kt.Tb(),Kt.Ub(23,"span"),Kt.Pc(24),Kt.Tb(),Kt.Tb(),Kt.Ub(25,"div",18),Kt.Ub(26,"div",19),Kt.Pc(27),Kt.lc(28,"translate"),Kt.Tb(),Kt.Ub(29,"span"),Kt.Pc(30),Kt.Tb(),Kt.Tb(),Kt.Nc(31,He,10,13,"div",21),Kt.Ub(32,"div",22),Kt.Ub(33,"div",23),Kt.Pc(34),Kt.lc(35,"translate"),Kt.Tb(),Kt.Ub(36,"div",24),Kt.Ub(37,"div"),Kt.Pc(38),Kt.lc(39,"taskTime"),Kt.Tb(),Kt.Tb(),Kt.Tb(),Kt.Tb()}if(2&t){const t=Kt.kc(2),e=Kt.Ac(24);Kt.Bb(5),Kt.Qc(Kt.mc(6,13,"dashboard.timeTracking.entryDetails")),Kt.Bb(4),Kt.Qc(Kt.mc(10,15,"dashboard.timeTracking.projectOrFolder")),Kt.Bb(3),Kt.rc("ngTemplateOutlet",e)("ngTemplateOutletContext",Kt.wc(27,Ge,t.selectedEntry)),Kt.Bb(3),Kt.Qc(Kt.mc(16,17,"dashboard.timeTracking.assignee")),Kt.Bb(3),Kt.Qc(t.selectedEntry.assigneeName),Kt.Bb(3),Kt.Qc(Kt.mc(22,19,"dashboard.timeTracking.taskName")),Kt.Bb(3),Kt.Qc(t.selectedEntry.taskName),Kt.Bb(3),Kt.Qc(Kt.mc(28,21,"dashboard.timeTracking.workType")),Kt.Bb(3),Kt.Qc(t.selectedEntry.workType),Kt.Bb(1),Kt.rc("ngForOf",t.selectedEntry.times),Kt.Bb(3),Kt.Rc(" ",Kt.mc(35,23,"dashboard.timeTracking.totalWork")," "),Kt.Bb(4),Kt.Qc(Kt.mc(39,25,t.selectedEntry.timeWorked))}}function Xe(t,e){if(1&t&&Kt.Nc(0,Je,40,29,"div",14),2&t){const t=Kt.kc();Kt.rc("ngIf",t.selectedEntry)}}function Ze(t,e){if(1&t){const t=Kt.Vb();Kt.Ub(0,"ch-primary-button",59),Kt.gc("click",(function(){return Kt.Ec(t),Kt.kc(2).exportTimes()})),Kt.Ub(1,"span",60),Kt.Pc(2),Kt.lc(3,"translate"),Kt.Tb(),Kt.Tb()}2&t&&(Kt.Bb(2),Kt.Qc(Kt.mc(3,1,"dashboard.timeTracking.export")))}function tn(t,e){1&t&&(Kt.Ub(0,"th",61),Kt.Pc(1),Kt.lc(2,"translate"),Kt.Tb()),2&t&&(Kt.Bb(1),Kt.Qc(Kt.mc(2,1,"dashboard.timeTracking.projectOrFolder")))}function en(t,e){if(1&t){const t=Kt.Vb();Kt.Ub(0,"span"),Kt.Ub(1,"mat-icon",64),Kt.gc("click",(function(){Kt.Ec(t);const e=Kt.kc().$implicit;return Kt.kc(2).expandRow(e)})),Kt.Pc(2),Kt.Tb(),Kt.Tb()}if(2&t){const t=Kt.kc().$implicit,e=Kt.kc(2);Kt.Bb(2),Kt.Rc(" ",e.expandedElementId===t.id?"expand_less":"expand_more"," ")}}function nn(t,e){1&t&&Kt.Qb(0)}function cn(t,e){if(1&t&&(Kt.Ub(0,"td",62),Kt.Nc(1,en,3,1,"span",63),Kt.Nc(2,nn,1,0,"ng-container",20),Kt.Tb()),2&t){const t=e.$implicit;Kt.kc(2);const n=Kt.Ac(24);Kt.Bb(1),Kt.rc("ngIf","task"===t.type&&t.times.length>0),Kt.Bb(1),Kt.rc("ngTemplateOutlet",n)("ngTemplateOutletContext",Kt.wc(3,Ge,t))}}function rn(t,e){1&t&&Kt.Pb(0,"td",65)}function on(t,e){1&t&&(Kt.Ub(0,"th",61),Kt.Pc(1),Kt.lc(2,"translate"),Kt.Tb()),2&t&&(Kt.Bb(1),Kt.Qc(Kt.mc(2,1,"dashboard.timeTracking.taskName")))}function an(t,e){if(1&t&&(Kt.Ub(0,"td",66),Kt.Pc(1),Kt.Tb()),2&t){const t=e.$implicit;Kt.Bb(1),Kt.Rc(" ",t.taskName," ")}}function ln(t,e){1&t&&Kt.Pb(0,"td",65)}function sn(t,e){1&t&&(Kt.Ub(0,"th",61),Kt.Pc(1),Kt.lc(2,"translate"),Kt.Tb()),2&t&&(Kt.Bb(1),Kt.Qc(Kt.mc(2,1,"dashboard.timeTracking.workType")))}function dn(t,e){if(1&t&&(Kt.Ub(0,"td",67),Kt.Pc(1),Kt.Tb()),2&t){const t=e.$implicit;Kt.Bb(1),Kt.Rc(" ",t.workType," ")}}function bn(t,e){1&t&&Kt.Pb(0,"td",65)}function pn(t,e){1&t&&(Kt.Ub(0,"th",61),Kt.Pc(1),Kt.lc(2,"translate"),Kt.Tb()),2&t&&(Kt.Bb(1),Kt.Qc(Kt.mc(2,1,"dashboard.timeTracking.assignee")))}function gn(t,e){if(1&t&&(Kt.Ub(0,"td",68),Kt.Pc(1),Kt.Tb()),2&t){const t=e.$implicit;Kt.Bb(1),Kt.Rc(" ",t.assigneeName," ")}}function mn(t,e){1&t&&Kt.Pb(0,"td",65)}function fn(t,e){1&t&&(Kt.Ub(0,"th",61),Kt.Pc(1),Kt.lc(2,"translate"),Kt.Tb()),2&t&&(Kt.Bb(1),Kt.Qc(Kt.mc(2,1,"dashboard.timeTracking.date")))}function hn(t,e){if(1&t&&(Kt.Ub(0,"td",69),Kt.Pc(1),Kt.lc(2,"date"),Kt.Tb()),2&t){const t=e.$implicit;Kt.Bb(1),Kt.Rc(" ",Kt.oc(2,1,t.createdTime,"shortDate",void 0,"de-DE")," ")}}function _n(t,e){1&t&&(Kt.Ub(0,"td",70),Kt.Ub(1,"strong"),Kt.Pc(2),Kt.lc(3,"translate"),Kt.Tb(),Kt.Tb()),2&t&&(Kt.Bb(2),Kt.Rc("",Kt.mc(3,1,"dashboard.timeTracking.total")," : "))}function un(t,e){1&t&&(Kt.Ub(0,"th",61),Kt.Pc(1),Kt.lc(2,"translate"),Kt.Tb()),2&t&&(Kt.Bb(1),Kt.Qc(Kt.mc(2,1,"dashboard.timeTracking.timeWorked")))}function On(t,e){if(1&t&&(Kt.Ub(0,"td",71),Kt.Pc(1),Kt.lc(2,"taskTime"),Kt.Tb()),2&t){const t=e.$implicit;Kt.Bb(1),Kt.Rc(" ",Kt.mc(2,1,t.timeWorked)," ")}}function kn(t,e){if(1&t&&(Kt.Ub(0,"td",65),Kt.Ub(1,"strong"),Kt.Pc(2),Kt.lc(3,"taskTime"),Kt.lc(4,"async"),Kt.Tb(),Kt.Tb()),2&t){const t=Kt.kc(2);Kt.Bb(2),Kt.Rc("",Kt.mc(3,1,Kt.mc(4,3,t.totalTimeWorked$))," ")}}function Pn(t,e){1&t&&Kt.Qb(0)}const Cn=function(t){return{element:t}};function Mn(t,e){if(1&t&&(Kt.Ub(0,"td",72),Kt.Nc(1,Pn,1,0,"ng-container",20),Kt.Tb()),2&t){const t=e.$implicit,n=Kt.kc(2),c=Kt.Ac(14);Kt.Cb("colspan",n.displayedColumns.length),Kt.Bb(1),Kt.rc("ngTemplateOutlet",c)("ngTemplateOutletContext",Kt.wc(3,Cn,t))}}function yn(t,e){1&t&&Kt.Pb(0,"tr",73)}function Tn(t,e){if(1&t){const t=Kt.Vb();Kt.Ub(0,"tr",74),Kt.gc("click",(function(){Kt.Ec(t);const n=e.$implicit;return Kt.kc(2).viewEntryDetails(n)})),Kt.Tb()}}function jn(t,e){if(1&t&&Kt.Pb(0,"tr",75),2&t){const t=e.$implicit,n=Kt.kc(2);Kt.Gb("expanded",n.expandedElementId===t.id)}}function xn(t,e){1&t&&Kt.Pb(0,"tr",76)}const vn=function(){return["expandedDetail"]},wn=function(){return[10,25,50]};function En(t,e){if(1&t&&(Kt.Ub(0,"div",32),Kt.Ub(1,"div",33),Kt.Pb(2,"div",34),Kt.lc(3,"translate"),Kt.Nc(4,Ze,4,3,"ch-primary-button",35),Kt.Tb(),Kt.Qb(5,4),Kt.Ub(6,"table",36),Kt.Sb(7,37),Kt.Nc(8,tn,3,3,"th",38),Kt.Nc(9,cn,3,5,"td",39),Kt.Nc(10,rn,1,0,"td",40),Kt.Rb(),Kt.Sb(11,41),Kt.Nc(12,on,3,3,"th",38),Kt.Nc(13,an,2,1,"td",42),Kt.Nc(14,ln,1,0,"td",40),Kt.Rb(),Kt.Sb(15,43),Kt.Nc(16,sn,3,3,"th",38),Kt.Nc(17,dn,2,1,"td",44),Kt.Nc(18,bn,1,0,"td",40),Kt.Rb(),Kt.Sb(19,45),Kt.Nc(20,pn,3,3,"th",38),Kt.Nc(21,gn,2,1,"td",46),Kt.Nc(22,mn,1,0,"td",40),Kt.Rb(),Kt.Sb(23,47),Kt.Nc(24,fn,3,3,"th",38),Kt.Nc(25,hn,3,6,"td",48),Kt.Nc(26,_n,4,3,"td",49),Kt.Rb(),Kt.Sb(27,50),Kt.Nc(28,un,3,3,"th",38),Kt.Nc(29,On,3,3,"td",51),Kt.Nc(30,kn,5,5,"td",40),Kt.Rb(),Kt.Sb(31,52),Kt.Nc(32,Mn,2,5,"td",53),Kt.Rb(),Kt.Nc(33,yn,1,0,"tr",54),Kt.Nc(34,Tn,1,0,"tr",55),Kt.Nc(35,jn,1,2,"tr",56),Kt.Nc(36,xn,1,0,"tr",57),Kt.Tb(),Kt.Pb(37,"mat-paginator",58),Kt.Tb()),2&t){const t=Kt.kc(),e=Kt.Ac(12);Kt.Bb(2),Kt.rc("innerHTML",Kt.mc(3,12,"sidebar.time-tracking"),Kt.Fc),Kt.Bb(2),Kt.rc("appFeatureFlag","feature_times_export"),Kt.Bb(1),Kt.rc("ngTemplateOutlet",e),Kt.Bb(1),Kt.rc("dataSource",t.matTasks)("trackBy",t.trackById),Kt.Bb(27),Kt.rc("matHeaderRowDef",t.displayedColumns),Kt.Bb(1),Kt.rc("matRowDefColumns",t.displayedColumns),Kt.Bb(1),Kt.rc("matRowDefColumns",Kt.vc(14,vn)),Kt.Bb(1),Kt.rc("matFooterRowDef",t.displayedColumns),Kt.Bb(1),Kt.rc("length",t.matTasks.data.length)("pageSizeOptions",Kt.vc(15,wn))("pageSize",10)}}function In(t,e){if(1&t){const t=Kt.Vb();Kt.Ub(0,"div"),Kt.Ub(1,"mat-form-field",88),Kt.Ub(2,"input",89),Kt.gc("dateChange",(function(e){return Kt.Ec(t),Kt.kc(2).changeDate("startDate",e.value)})),Kt.lc(3,"translate"),Kt.Tb(),Kt.Pb(4,"mat-datepicker-toggle",90),Kt.Pb(5,"mat-datepicker",null,91),Kt.Tb(),Kt.Ub(7,"mat-form-field",88),Kt.Ub(8,"input",92),Kt.gc("dateChange",(function(e){return Kt.Ec(t),Kt.kc(2).changeDate("endDate",e.value)})),Kt.lc(9,"translate"),Kt.Tb(),Kt.Pb(10,"mat-datepicker-toggle",90),Kt.Pb(11,"mat-datepicker",null,93),Kt.Tb(),Kt.Tb()}if(2&t){const t=Kt.Ac(6),e=Kt.Ac(12),n=Kt.kc(2);Kt.Bb(2),Kt.rc("formControl",n.startDateControl)("matDatepicker",t)("max",n.endDateControl.value)("placeholder",Kt.mc(3,10,"dashboard.timeTracking.filters.startDate")),Kt.Bb(2),Kt.rc("for",t),Kt.Bb(4),Kt.rc("formControl",n.endDateControl)("matDatepicker",e)("min",n.startDateControl.value)("placeholder",Kt.mc(9,12,"dashboard.timeTracking.filters.endDate")),Kt.Bb(2),Kt.rc("for",e)}}function Fn(t,e){if(1&t){const t=Kt.Vb();Kt.Ub(0,"div",94),Kt.Ub(1,"div",95),Kt.Pc(2),Kt.lc(3,"translate"),Kt.Tb(),Kt.Ub(4,"div",96),Kt.gc("click",(function(){return Kt.Ec(t),Kt.kc(2).clearAllFilters()})),Kt.Pc(5),Kt.lc(6,"translate"),Kt.Tb(),Kt.Tb()}2&t&&(Kt.Bb(2),Kt.Rc(" ",Kt.mc(3,2,"dashboard.timeTracking.filterBy")," : "),Kt.Bb(3),Kt.Rc(" ",Kt.mc(6,4,"dashboard.timeTracking.filters.clearSelections")," "))}const Dn=function(t){return{"mb-2":t}};function $n(t,e){if(1&t){const t=Kt.Vb();Kt.Ub(0,"div",77),Kt.lc(1,"async"),Kt.Ub(2,"div",78),Kt.Pc(3),Kt.lc(4,"translate"),Kt.Tb(),Kt.Ub(5,"app-filter",79),Kt.gc("filterOpened",(function(){return Kt.Ec(t),Kt.kc().openProjectFilterDialog()})),Kt.lc(6,"async"),Kt.Ub(7,"div",80),Kt.Pb(8,"mat-icon",81),Kt.Ub(9,"span"),Kt.Pc(10),Kt.lc(11,"translate"),Kt.lc(12,"async"),Kt.Tb(),Kt.Tb(),Kt.Tb(),Kt.Ub(13,"app-filter",82),Kt.gc("filterClosed",(function(){Kt.Ec(t);const e=Kt.kc();return e.logSelectEvent(e.TrackEventType.TRACKED_TIME_FILTER_ASSIGNEE_SELECTED)})),Kt.lc(14,"async"),Kt.Ub(15,"div",80),Kt.Ub(16,"mat-icon",83),Kt.Pc(17,"person_outline"),Kt.Tb(),Kt.Ub(18,"span"),Kt.Pc(19),Kt.lc(20,"async"),Kt.lc(21,"translate"),Kt.Tb(),Kt.Tb(),Kt.Ub(22,"div",84),Kt.Qb(23,4),Kt.Tb(),Kt.Tb(),Kt.Ub(24,"app-filter",82),Kt.gc("filterClosed",(function(){Kt.Ec(t);const e=Kt.kc();return e.logSelectEvent(e.TrackEventType.TRACKED_TIME_FILTER_WORK_TYPE_SELECTED)})),Kt.lc(25,"async"),Kt.Ub(26,"div",80),Kt.Ub(27,"mat-icon",85),Kt.Pc(28,"calendar_today"),Kt.Tb(),Kt.Ub(29,"span"),Kt.Pc(30),Kt.lc(31,"async"),Kt.lc(32,"translate"),Kt.Tb(),Kt.Tb(),Kt.Ub(33,"div",84),Kt.Qb(34,4),Kt.Tb(),Kt.Tb(),Kt.Ub(35,"app-filter",86),Kt.lc(36,"async"),Kt.Ub(37,"div",80),Kt.Ub(38,"mat-icon",85),Kt.Pc(39,"calendar_today"),Kt.Tb(),Kt.Ub(40,"span"),Kt.Pc(41),Kt.lc(42,"translate"),Kt.lc(43,"async"),Kt.Tb(),Kt.Tb(),Kt.Ub(44,"div",84),Kt.Qb(45,4),Kt.Tb(),Kt.Tb(),Kt.Nc(46,In,13,14,"div",63),Kt.lc(47,"async"),Kt.Nc(48,Fn,7,6,"div",87),Kt.lc(49,"async"),Kt.Tb()}if(2&t){const t=Kt.kc(),e=Kt.Ac(16),n=Kt.Ac(18),c=Kt.Ac(20);Kt.rc("ngClass",Kt.wc(52,Dn,Kt.mc(1,20,t.isAnyFilterSelected$))),Kt.Bb(3),Kt.Rc(" ",Kt.mc(4,22,"dashboard.timeTracking.filterBy")," : "),Kt.Bb(2),Kt.rc("providesMenu",!1)("selectedItemsLength",Kt.mc(6,24,t.selectedProjectsLength$))("trackingEvent",t.TrackEventType.TRACKED_TIME_FILTER_PROJECT_CLICKED),Kt.Bb(5),Kt.Qc(Kt.mc(11,26,Kt.mc(12,28,t.selectedProjectsText$)||"dashboard.timeTracking.projectOrFolder")),Kt.Bb(3),Kt.rc("selectedItemsLength",Kt.mc(14,30,t.selectedMembersLength$))("trackingEvent",t.TrackEventType.TRACKED_TIME_FILTER_ASSIGNEE_CLICKED),Kt.Bb(6),Kt.Qc(Kt.mc(20,32,t.selectedMembersText$)||Kt.mc(21,34,"dashboard.timeTracking.assignee")),Kt.Bb(4),Kt.rc("ngTemplateOutlet",e),Kt.Bb(1),Kt.rc("selectedItemsLength",Kt.mc(25,36,t.selectedWorkTypesLength$))("trackingEvent",t.TrackEventType.TRACKED_TIME_FILTER_WORK_TYPE_CLICKED),Kt.Bb(6),Kt.Qc(Kt.mc(31,38,t.selectedWorkTypesText$)||Kt.mc(32,40,"dashboard.timeTracking.workType")),Kt.Bb(4),Kt.rc("ngTemplateOutlet",n),Kt.Bb(1),Kt.rc("selectedItemsLength",Kt.mc(36,42,t.selectedDatesLength$))("trackingEvent",t.TrackEventType.TRACKED_TIME_FILTER_DATE_CLICKED),Kt.Bb(6),Kt.Qc(Kt.mc(42,44,Kt.mc(43,46,t.selectedDatesText$)||"dashboard.timeTracking.date")),Kt.Bb(4),Kt.rc("ngTemplateOutlet",c),Kt.Bb(1),Kt.rc("ngIf",Kt.mc(47,48,t.selectedDates$)),Kt.Bb(2),Kt.rc("ngIf",Kt.mc(49,50,t.isAnyFilterSelected$))}}function Un(t,e){if(1&t&&(Kt.Ub(0,"tr"),Kt.Ub(1,"td",99),Kt.Pc(2),Kt.Tb(),Kt.Ub(3,"td",99),Kt.Pc(4),Kt.Tb(),Kt.Ub(5,"td",99),Kt.Pc(6),Kt.Tb(),Kt.Ub(7,"td",100),Kt.Pc(8),Kt.Tb(),Kt.Ub(9,"td",101),Kt.Pc(10),Kt.lc(11,"date"),Kt.Tb(),Kt.Ub(12,"td",102),Kt.Pc(13),Kt.lc(14,"taskTime"),Kt.Tb(),Kt.Tb()),2&t){const t=e.$implicit,n=Kt.kc().element;Kt.Bb(2),Kt.Rc(" ",n.projectName," "),Kt.Bb(2),Kt.Rc(" ",n.taskName," "),Kt.Bb(2),Kt.Rc(" ",n.workType," "),Kt.Bb(2),Kt.Rc(" ",t.assigneeName," "),Kt.Bb(2),Kt.Rc(" ",Kt.oc(11,6,1e3*t.startTime,"shortDate",void 0,"de-DE")," "),Kt.Bb(3),Kt.Rc(" ",Kt.mc(14,11,t.endTime-t.startTime)," ")}}function Sn(t,e){if(1&t&&(Kt.Ub(0,"table",97),Kt.Nc(1,Un,15,13,"tr",98),Kt.Tb()),2&t){const t=e.element;Kt.Bb(1),Kt.rc("ngForOf",t.times)}}function Rn(t,e){if(1&t){const t=Kt.Vb();Kt.Ub(0,"div",114),Kt.gc("click",(function(){Kt.Ec(t);const e=Kt.kc(3);return e.clearFilterSelection(e.FilterKeys.MEMEBR)})),Kt.Pc(1),Kt.lc(2,"translate"),Kt.Tb()}2&t&&(Kt.Bb(1),Kt.Rc(" ",Kt.mc(2,1,"dashboard.timeTracking.filters.clearSelections")," "))}function Bn(t,e){if(1&t){const t=Kt.Vb();Kt.Ub(0,"div",117),Kt.Ub(1,"mat-checkbox",118),Kt.gc("change",(function(){Kt.Ec(t);const n=e.$implicit;return Kt.kc(4).toggleMemberSelection(n)})),Kt.Pc(2),Kt.Tb(),Kt.Tb()}if(2&t){const t=e.$implicit,n=Kt.kc(2).ngIf;Kt.Bb(1),Kt.rc("checked",!!n[t.id]),Kt.Bb(1),Kt.Sc("",t.name," ",t.lastname,"")}}function Nn(t,e){if(1&t&&(Kt.Ub(0,"div",115),Kt.Nc(1,Bn,3,3,"div",116),Kt.lc(2,"async"),Kt.Tb()),2&t){const t=Kt.kc(3);Kt.Bb(1),Kt.rc("ngForOf",Kt.mc(2,1,t.membersOfAllProjects$))}}function An(t,e){if(1&t){const t=Kt.Vb();Kt.Ub(0,"div",104),Kt.Ub(1,"div",105),Kt.Ub(2,"div",106),Kt.Ub(3,"input",107,108),Kt.gc("keyup",(function(){Kt.Ec(t);const e=Kt.Ac(4);return Kt.kc(2).onMemberSearchChange(e.value)})),Kt.lc(5,"translate"),Kt.Tb(),Kt.Tb(),Kt.Nc(6,Rn,3,3,"div",109),Kt.lc(7,"async"),Kt.Tb(),Kt.Ub(8,"mat-radio-group",110),Kt.gc("change",(function(){Kt.Ec(t);const e=Kt.kc(2);return e.onFilterTypeChanged(e.memberType)}))("ngModelChange",(function(e){return Kt.Ec(t),Kt.kc(2).memberType=e})),Kt.Ub(9,"mat-radio-button",111),Kt.Pc(10),Kt.lc(11,"translate"),Kt.Tb(),Kt.Ub(12,"mat-radio-button",111),Kt.Pc(13),Kt.lc(14,"translate"),Kt.Tb(),Kt.Ub(15,"mat-radio-button",111),Kt.Pc(16),Kt.lc(17,"translate"),Kt.Tb(),Kt.Tb(),Kt.Pb(18,"div",112),Kt.Nc(19,Nn,3,3,"div",113),Kt.lc(20,"async"),Kt.Tb()}if(2&t){const t=Kt.kc(2),e=Kt.Ac(22);Kt.Bb(3),Kt.rc("placeholder",Kt.mc(5,11,"dashboard.timeTracking.filters.search")),Kt.Bb(3),Kt.rc("ngIf",Kt.mc(7,13,t.selectedMembersLength$)),Kt.Bb(2),Kt.rc("ngModel",t.memberType),Kt.Bb(1),Kt.rc("value",t.TimeTrackingType.ALL),Kt.Bb(1),Kt.Rc(" ",Kt.mc(11,15,"dashboard.timeTracking.filters.allAssignees")," "),Kt.Bb(2),Kt.rc("value",t.TimeTrackingType.INTERNAL),Kt.Bb(1),Kt.Rc(" ",Kt.mc(14,17,"dashboard.timeTracking.filters.onlyInternalAssignees")," "),Kt.Bb(2),Kt.rc("value",t.TimeTrackingType.EXTERNAL),Kt.Bb(1),Kt.Rc(" ",Kt.mc(17,19,"dashboard.timeTracking.filters.onlyExternalAssignees")," "),Kt.Bb(3),Kt.rc("ngIf",!Kt.mc(20,21,t.membersResultsNotFoundText$))("ngIfElse",e)}}function Ln(t,e){if(1&t&&(Kt.Nc(0,An,21,23,"div",103),Kt.lc(1,"async")),2&t){const t=Kt.kc();var n;Kt.rc("ngIf",null==(n=Kt.mc(1,1,t.selectedFilters$))?null:n.memberFilter.selectedMembers)}}function Kn(t,e){if(1&t){const t=Kt.Vb();Kt.Ub(0,"div",121),Kt.gc("click",(function(){Kt.Ec(t);const e=Kt.kc(3);return e.clearFilterSelection(e.FilterKeys.WORK_TYPE)})),Kt.Pc(1),Kt.lc(2,"translate"),Kt.Tb()}2&t&&(Kt.Bb(1),Kt.Rc(" ",Kt.mc(2,1,"dashboard.timeTracking.filters.clearSelections")," "))}function zn(t,e){if(1&t){const t=Kt.Vb();Kt.Ub(0,"div",117),Kt.Ub(1,"mat-checkbox",118),Kt.gc("change",(function(){Kt.Ec(t);const n=e.$implicit;return Kt.kc(3).toggleWorkTypeSelection(n)})),Kt.Pc(2),Kt.Tb(),Kt.Tb()}if(2&t){const t=e.$implicit,n=Kt.kc().ngIf;Kt.Bb(1),Kt.rc("checked",!!n[t.id]),Kt.Bb(1),Kt.Qc(t.name)}}function Wn(t,e){1&t&&(Kt.Ub(0,"div",122),Kt.Pc(1),Kt.lc(2,"translate"),Kt.Tb()),2&t&&(Kt.Bb(1),Kt.Rc(" ",Kt.mc(2,1,"dashboard.timeTracking.filters.createAnEntryToFilter")," "))}function Yn(t,e){if(1&t&&(Kt.Ub(0,"div",104),Kt.Nc(1,Kn,3,3,"div",119),Kt.lc(2,"async"),Kt.Ub(3,"div",115),Kt.Nc(4,zn,3,2,"div",116),Kt.lc(5,"async"),Kt.Nc(6,Wn,3,3,"div",120),Kt.lc(7,"async"),Kt.Tb(),Kt.Tb()),2&t){const t=Kt.kc(2);Kt.Bb(1),Kt.rc("ngIf",Kt.mc(2,3,t.selectedWorkTypesLength$)),Kt.Bb(3),Kt.rc("ngForOf",Kt.mc(5,5,t.assignedWorkTypes$)),Kt.Bb(2),Kt.rc("ngIf",0===Kt.mc(7,7,t.assignedWorkTypes$).length)}}function Qn(t,e){if(1&t&&(Kt.Nc(0,Yn,8,9,"div",103),Kt.lc(1,"async")),2&t){const t=Kt.kc();Kt.rc("ngIf",Kt.mc(1,1,t.selectedWorkTypesFilter$))}}function Vn(t,e){if(1&t){const t=Kt.Vb();Kt.Ub(0,"div",126),Kt.gc("click",(function(){Kt.Ec(t);const n=e.$implicit;return Kt.kc(2).applyDateFilter(n.name)})),Kt.Pc(1),Kt.lc(2,"translate"),Kt.Tb()}if(2&t){const t=e.$implicit;Kt.rc("appTrack",t.trackEvent),Kt.Bb(1),Kt.Rc(" ",Kt.mc(2,2,"dashboard.timeTracking.filters."+t.translationKey)," ")}}function qn(t,e){if(1&t){const t=Kt.Vb();Kt.Ub(0,"div",123),Kt.Ub(1,"div",124),Kt.gc("click",(function(){return Kt.Ec(t),Kt.kc().applyDateFilter()})),Kt.Pc(2),Kt.lc(3,"translate"),Kt.Tb(),Kt.Nc(4,Vn,3,4,"div",125),Kt.Tb()}if(2&t){const t=Kt.kc();Kt.Bb(2),Kt.Rc(" ",Kt.mc(3,2,"dashboard.timeTracking.filters.allTime")," "),Kt.Bb(2),Kt.rc("ngForOf",t.dateFilterKeys)}}function Hn(t,e){if(1&t&&(Kt.Ub(0,"div",122),Kt.Pc(1),Kt.lc(2,"async"),Kt.Tb()),2&t){const t=Kt.kc();Kt.Bb(1),Kt.Rc(" ",Kt.mc(2,1,t.membersResultsNotFoundText$)," ")}}function Gn(t,e){if(1&t&&(Kt.Ub(0,"span"),Kt.Ub(1,"strong"),Kt.Pc(2),Kt.Tb(),Kt.Pc(3," / "),Kt.Tb()),2&t){const t=Kt.kc().project;Kt.Bb(2),Kt.Qc(t.parentProjectName)}}function Jn(t,e){if(1&t&&(Kt.Nc(0,Gn,4,1,"span",63),Kt.Pc(1)),2&t){const t=e.project;Kt.rc("ngIf",t.parentProjectName),Kt.Bb(1),Kt.Rc(" ",t.projectName,"\n")}}const Xn=[{path:"",component:(()=>{class t{constructor(t,e,n,c,r,o,a,i,l){this.store=t,this.translateService=e,this.projectSortAndSearchHelper=n,this.trackingService=c,this.exportService=r,this.baseFileService=o,this.downloadService=a,this.alertService=i,this.dialog=l,this.ProjectType=Bt.b,this.TimeTrackingType=Dt,this.TrackEventType=Ft.a,this.FilterKeys=St,this.loading=!0,this.memberType=Dt.ALL,this.displayedColumns=["folder-or-project","task-name","work-type","assignee","date","time-worked"],this.columnMappers={"folder-or-project":t=>`${(t.parentProjectName||"z").toLowerCase()} ${t.projectName.toLowerCase()}`,"task-name":t=>t.taskName.toLowerCase(),"work-type":t=>t.workType.toLowerCase(),assignee:t=>t.assigneeName.toLowerCase(),date:t=>t.createdTime,"time-worked":t=>t.timeWorked},this.filtersKeysMapper={projectId:"projectsFilter.selectedProjects",assigneeId:"memberFilter.selectedMembers",workTypeId:"workTypeFilter.selectedWorkTypes",createdDate:"dateFilter.selectedDates"},this.clearFilterMappers={[St.PROJECT]:this.filtersKeysMapper.projectId,[St.MEMEBR]:this.filtersKeysMapper.assigneeId,[St.WORK_TYPE]:this.filtersKeysMapper.workTypeId},this.trackEventCountMapper={[Ft.a.TRACKED_TIME_FILTER_ASSIGNEE_SELECTED]:this.filtersKeysMapper.assigneeId,[Ft.a.TRACKED_TIME_FILTER_PROJECT_SELECTED]:this.filtersKeysMapper.projectId,[Ft.a.TRACKED_TIME_FILTER_WORK_TYPE_SELECTED]:this.filtersKeysMapper.workTypeId,[Ft.a.TRACKED_TIME_FILTER_DATE_CUSTOM_RANGE]:this.filtersKeysMapper.createdDate},this.destroy$=new ht.a,this.selectTrackedTimesWithTasks$=this.store.select(bt),this.totalTasksTime$=this.store.select(dt),this.totalMembersAssigned$=this.store.select(gt),this.selectedFilters$=new _t.a({memberFilter:{type:Dt.ALL,selectedMembers:{},searchKey:""},workTypeFilter:{selectedWorkTypes:{}},dateFilter:{selectedDateFilter:null,selectedDates:null},projectsFilter:{searchKey:"",selectedParentProjectId:null,selectedProjects:{}}}),this.membersFilter$=this.selectedFilters$.asObservable().pipe(Object(Mt.a)(300),Object(yt.a)(t=>t.memberFilter),Object(Tt.a)(1)),this.membersOfAllProjects$=Object(ut.b)([this.membersFilter$,this.totalMembersAssigned$]).pipe(Object(yt.a)(([t,e])=>{const n=Object.values(e).filter(e=>this.filterCondition(e,t)).filter(e=>this.searchInMember(e,t.searchKey));return Object(L.orderBy)(n,[e=>!t.selectedMembers[e.id],t=>t.name.toLowerCase(),t=>t.lastname.toLowerCase()])}),Object(Tt.a)(1)),this.membersResultsNotFoundText$=Object(ut.b)([this.membersOfAllProjects$,this.totalMembersAssigned$]).pipe(Object(yt.a)(([t,e])=>0===Object.values(e).length?this.translateService.instant("dashboard.timeTracking.filters.createAnEntryToFilter"):0===t.length?this.translateService.instant("dashboard.timeTracking.filters.resultsNotFound"):null)),this.selectedMembersText$=Object(ut.b)([this.membersFilter$,this.totalMembersAssigned$]).pipe(Object(yt.a)(([t,e])=>{const n=Object.values(t.selectedMembers);if(n.length>0){const t=e[n[0]],c=n.length>1?` & ${n.length-1} ${this.translateService.instant("dashboard.timeTracking.more")}`:"";return`${t.name} ${t.lastname}${c}`}return null})),this.selectedMembersLength$=this.membersFilter$.pipe(Object(yt.a)(t=>Object.keys(t.selectedMembers).length)),this.assignedWorkTypes$=this.store.select(pt).pipe(Object(yt.a)(t=>Object.values(t))),this.selectedWorkTypesFilter$=this.selectedFilters$.asObservable().pipe(Object(yt.a)(t=>t.workTypeFilter.selectedWorkTypes),Object(Tt.a)(1)),this.selectedWorkTypesText$=Object(ut.b)([this.selectedWorkTypesFilter$,this.store.select(pt)]).pipe(Object(yt.a)(([t,e])=>{const n=Object.values(t);if(n.length>0){const t=e[n[0]],c=n.length>1?` & ${n.length-1} ${this.translateService.instant("dashboard.timeTracking.more")}`:"";return`${t.name}${c}`}return null})),this.selectedWorkTypesLength$=this.selectedWorkTypesFilter$.pipe(Object(yt.a)(t=>Object.keys(t).length)),this.selectedDates$=this.selectedFilters$.pipe(Object(yt.a)(t=>t.dateFilter.selectedDates)),this.selectedDatesText$=this.selectedFilters$.pipe(Object(yt.a)(t=>{const e=t.dateFilter.selectedDateFilter;return e?this.translateService.instant("dashboard.timeTracking.filters."+e.translationKey):null})),this.selectedDatesLength$=this.selectedFilters$.pipe(Object(yt.a)(t=>t.dateFilter.selectedDateFilter?1:0)),this.projectsFilter$=this.selectedFilters$.pipe(Object(yt.a)(t=>t.projectsFilter),Object(Mt.a)(300),Object(Tt.a)(1)),this.selectedParentProjectId$=this.projectsFilter$.pipe(Object(jt.a)("selectedParentProjectId"),Object(yt.a)(t=>t.selectedParentProjectId)),this.selectedProjectsText$=Object(ut.b)([this.projectsFilter$.pipe(Object(yt.a)(t=>t.selectedProjects)),this.store.select(X)]).pipe(Object(yt.a)(([t,e])=>{const n=Object.values(t);if(n.length>0){const t=e[n[0]],c=n.length>1?` & ${n.length-1} ${this.translateService.instant("dashboard.timeTracking.more")}`:"";return`${t.name}${c}`}return null})),this.selectedProjectsLength$=this.projectsFilter$.pipe(Object(yt.a)(t=>Object.keys(t.selectedProjects).length)),this.startDateControl=new Rt.e(z()()),this.endDateControl=new Rt.e(z()()),this.filteredTaskTimes$=Object(ut.b)([this.selectedFilters$.pipe(Object(yt.a)(t=>this.transformFiltersToTrackedTimeKeys(t)),Object(xt.a)()),this.selectTrackedTimesWithTasks$]).pipe(Object(yt.a)(([t,e])=>{const n=e.filter(e=>this.isTrackedTImeFilterApplicable(t,e));return 0===t.assigneeId.length?n:n.map(e=>{const n=e.times.filter(e=>t.assigneeId.includes(e.userId));return Object.assign(Object.assign({},e),{times:[...n]})})}),Object(Tt.a)(1)),this.totalTimeWorked$=this.filteredTaskTimes$.pipe(Object(vt.a)(this.destroy$),Object(yt.a)(t=>t.reduce((t,e)=>"task"===e.type?(e.times.forEach(e=>{t+=e.endTime-e.startTime}),t):t+e.timeWorked,0))),this.isAnyFilterSelected$=Object(ut.b)([this.selectedProjectsLength$,this.selectedMembersLength$,this.selectedWorkTypesLength$,this.selectedDatesLength$]).pipe(Object(yt.a)(t=>!!Object(L.sum)(t))),this.initSubscriptions()}get dateFilterKeys(){return Object.values(Ut)}initSubscriptions(){this.selectedDates$.pipe(Object(vt.a)(this.destroy$)).subscribe(t=>{t&&(this.startDateControl.setValue(z()(t.startDate)),this.endDateControl.setValue(z()(t.endDate)))})}openProjectFilterDialog(){return Object(a.a)(this,void 0,void 0,(function*(){const t=this.dialog.open(_e,{width:"500px",height:"670px",data:{selectedProjects:this.selectedFilters$.value.projectsFilter.selectedProjects},autoFocus:!1}),e=yield t.afterClosed().take(1).toPromise();if(this.logSelectEvent(Ft.a.TRACKED_TIME_FILTER_PROJECT_SELECTED),!e)return;const n=this.selectedFilters$.value,c=Object.assign(Object.assign({},n),{projectsFilter:Object.assign(Object.assign({},n.projectsFilter),{selectedProjects:e.selectedProjects})});this.selectedFilters$.next(c)}))}trackById(t,e){return e.id}expandRow(t){this.expandedElementId=this.expandedElementId===t.id?null:t.id}viewEntryDetails(t){this.selectedEntry=t,this.drawer.open()}initTaskTimesSubscription(){this.filteredTaskTimes$.pipe(Object(vt.a)(this.destroy$)).subscribe(t=>{this.matTasks.data=t,setTimeout(()=>{this.matTasks.sort=this.sort,this.matTasks.paginator=this.paginator})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.store.dispatch(Object(ue.b)())}ngOnInit(){this.matTasks=new Ot.o([]),this.matTasks.sortingDataAccessor=(t,e)=>this.columnMappers[e](t),this.store.dispatch(Object(ue.a)())}ngAfterViewInit(){this.initTaskTimesSubscription()}onFilterTypeChanged(t){const e=Object.assign({},this.selectedFilters$.value);e.memberFilter=Object.assign(Object.assign({},e.memberFilter),{type:t}),this.selectedFilters$.next(e)}toggleMemberSelection(t){const e=Object.assign({},this.selectedFilters$.value);e.memberFilter.selectedMembers[t.id]?delete e.memberFilter.selectedMembers[t.id]:e.memberFilter.selectedMembers[t.id]=t.id,e.memberFilter=Object.assign(Object.assign({},e.memberFilter),{selectedMembers:Object.assign({},e.memberFilter.selectedMembers)}),this.selectedFilters$.next(e)}onMemberSearchChange(t){const e=Object.assign({},this.selectedFilters$.value);e.memberFilter=Object.assign(Object.assign({},e.memberFilter),{searchKey:t}),this.selectedFilters$.next(e),t&&this.logSearchEvent(Ft.a.TRACKED_TIME_FILTER_ASSIGNEE_SEARCH,t)}toggleWorkTypeSelection(t){const e=Object.assign({},this.selectedFilters$.value);e.workTypeFilter.selectedWorkTypes[t.id]?delete e.workTypeFilter.selectedWorkTypes[t.id]:e.workTypeFilter.selectedWorkTypes[t.id]=t.id,e.workTypeFilter=Object.assign(Object.assign({},e.workTypeFilter),{selectedWorkTypes:Object.assign({},e.workTypeFilter.selectedWorkTypes)}),this.selectedFilters$.next(e)}applyDateFilter(t=null){const e=Ut[t]||null,n=Object.assign({},this.selectedFilters$.value);let c=null;if(e){const t=z()();c={startDate:e.startMoment?e.startMoment(t).format("YYYY-MM-DD"):null,endDate:e.endMoment?e.endMoment(t).format("YYYY-MM-DD"):null}}n.dateFilter={selectedDateFilter:e?Object.assign({},e):null,selectedDates:c?Object.assign({},c):null},this.selectedFilters$.next(n)}changeDate(t,e){const n=Object.assign({},this.selectedFilters$.value),c=e||z()(),r=Object.assign(Object.assign({},n.dateFilter.selectedDates),{[t]:c.format("YYYY-MM-DD")});n.dateFilter=Object.assign(Object.assign({},n.dateFilter),{selectedDates:Object.assign({},r),selectedDateFilter:Ut.custom}),this.selectedFilters$.next(n),this.logSelectEvent(Ft.a.TRACKED_TIME_FILTER_DATE_CUSTOM_RANGE)}folderClicked(t=null){const e=Object.assign({},this.selectedFilters$.value);e.projectsFilter=Object.assign(Object.assign({},e.projectsFilter),{selectedParentProjectId:t}),this.selectedFilters$.next(e)}toggleProjectSelection(t){const e=Object.assign({},this.selectedFilters$.value);e.projectsFilter.selectedProjects[t]?delete e.projectsFilter.selectedProjects[t]:e.projectsFilter.selectedProjects[t]=t,e.projectsFilter=Object.assign(Object.assign({},e.projectsFilter),{selectedProjects:Object.assign({},e.projectsFilter.selectedProjects)}),this.selectedFilters$.next(e)}onProjectSearchChange(t){const e=Object.assign({},this.selectedFilters$.value);e.projectsFilter=Object.assign(Object.assign({},e.projectsFilter),{searchKey:t}),this.selectedFilters$.next(e),t&&this.logSearchEvent(Ft.a.TRACKED_TIME_FILTER_PROJECT_SEARCH,t)}clearAllFilters(){const t=this.selectedFilters$.value;t.projectsFilter=Object.assign(Object.assign({},t.projectsFilter),{selectedProjects:{}}),t.memberFilter=Object.assign(Object.assign({},t.memberFilter),{selectedMembers:{}}),t.workTypeFilter=Object.assign(Object.assign({},t.workTypeFilter),{selectedWorkTypes:{}}),t.dateFilter=Object.assign(Object.assign({},t.dateFilter),{selectedDates:null,selectedDateFilter:null}),this.selectedFilters$.next(t)}clearFilterSelection(t){const e=this.selectedFilters$.value,n=this.clearFilterMappers[t],c=n.split(".")[0];Object(L.set)(e,n,{}),e[c]=Object.assign({},e[c]),this.selectedFilters$.next(e)}logSearchEvent(t,e){this.trackingService.emitTrackingEvent(t,{searchKey:e})}logSelectEvent(t){const e=this.selectedFilters$.value,n=Object(L.get)(e,this.trackEventCountMapper[t]);if(!n||Object(L.isEmpty)(n))return;let c={count:String(Object.keys(n).length)};t===Ft.a.TRACKED_TIME_FILTER_DATE_CUSTOM_RANGE&&(c=Object.assign({},n)),this.trackingService.emitTrackingEvent(t,Object.assign({},c))}filterCondition(t,e){return!!e.selectedMembers[t.id]||$t[e.type].includes(t.role)}searchInMember(t,e){return""===e||new RegExp(e.toLowerCase()).test(`${t.name} ${t.lastname}`.toLowerCase())}isTrackedTImeFilterApplicable(t,e){return Object.keys(t).every(n=>{const c=t[n];return 0===c.length||("assigneeId"===n&&"task"===e.type?e.times.some(t=>c.includes(t.userId)):c.includes(e[n])||z()(e[n]).isBetween(c[0],c[1]))})}transformFiltersToTrackedTimeKeys(t){return Object.keys(this.filtersKeysMapper).reduce((e,n)=>{const c=Object(L.get)(t,this.filtersKeysMapper[n]);return e[n]=c?Object.values(c):[],e},{})}exportTimes(){return Object(a.a)(this,void 0,void 0,(function*(){const t={},e=this.selectedFilters$.value;if(e.dateFilter.selectedDates){const n={};n.start=z()(e.dateFilter.selectedDates.startDate).unix(),n.end=z()(e.dateFilter.selectedDates.endDate).unix(),t.interval=n}Object.keys(e.memberFilter.selectedMembers).length>0&&(t.assignees=Object.keys(e.memberFilter.selectedMembers)),Object.keys(e.projectsFilter.selectedProjects).length>0&&(t.projects=Object.values(e.projectsFilter.selectedProjects)),Object.keys(e.workTypeFilter.selectedWorkTypes).length>0&&(t.workTypes=Object.values(e.workTypeFilter.selectedWorkTypes));const n={format:"application/csv",resourceType:"times",resourceId:(yield this.store.select(A.f).pipe(Object(wt.a)(t=>!!t.id),Object(Et.a)(1)).toPromise()).id,filter:t};yield this.exportService.createExport(n,"export.times.info","export.times.error")}))}}return t.\u0275fac=function(e){return new(e||t)(Kt.Ob(i.h),Kt.Ob(se.e),Kt.Ob(zt.a),Kt.Ob(Vt.a),Kt.Ob(Oe.a),Kt.Ob(ke.a),Kt.Ob(Pe.a),Kt.Ob(Ce.a),Kt.Ob(Lt.b))},t.\u0275cmp=Kt.Ib({type:t,selectors:[["app-time-tracking"]],viewQuery:function(t,e){var n;1&t&&(Kt.Uc(kt.a,!0),Kt.Uc(Pt.a,!0),Kt.Uc(Ct.a,!0)),2&t&&(Kt.zc(n=Kt.hc())&&(e.paginator=n.first),Kt.zc(n=Kt.hc())&&(e.sort=n.first),Kt.zc(n=Kt.hc())&&(e.drawer=n.first))},decls:25,vars:2,consts:[[1,"row","h-100","time-tracking-container"],[1,"col","pt-3","overflow-auto","h-100"],["hasBackdrop","false",1,"h-100"],["mode","Over","position","end"],[3,"ngTemplateOutlet"],["entryDetails",""],["timeTrackingContent",""],["timeTrackingFilters",""],["shortTable",""],["membersFilterContent",""],["workTypeFilterContent",""],["dateFilterContent",""],["emptyMembersResults",""],["projectName",""],["class","entry-details",4,"ngIf"],[1,"entry-details"],[1,"entry-details__header","d-flex","align-items-center","font-weight-bold"],[1,"pointer","mr-2",3,"click"],[1,"entry-details__item"],[1,"entry-details__item--header"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","row entry-details__time-entry",4,"ngFor","ngForOf"],[1,"row","entry-details__time-entry--total"],[1,"col-auto"],[1,"col","text-right"],[1,"row","entry-details__time-entry"],["class","col-12 entry-details__time-entry--date",4,"ngIf"],[1,"col-6"],[1,"col-6","text-right"],["class","col-12 text-right",4,"ngIf"],[1,"col-12","entry-details__time-entry--date"],[1,"col-12","text-right"],[1,"table-responsive","mycraftnote-table__container","pb-3"],[1,"mycraftnote-table__header"],[1,"mt-4","mb-4","mycraftnote-table__title",3,"innerHTML"],["iconName","vertical_align_bottom",3,"click",4,"appFeatureFlag"],["mat-table","","matSort","","matSortActive","date","matSortDirection","desc","multiTemplateDataRows","",1,"w-100","text-left","mycraftnote-table","with-expandable-row",3,"dataSource","trackBy"],["matColumnDef","folder-or-project"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","text-truncate column_name","mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","task-name"],["class","column_task_name text-truncate","mat-cell","",4,"matCellDef"],["matColumnDef","work-type"],["class","column_work_type text-truncate","mat-cell","",4,"matCellDef"],["matColumnDef","assignee"],["class","column_assignee text-truncate","mat-cell","",4,"matCellDef"],["matColumnDef","date"],["class","column_date","mat-cell","",4,"matCellDef"],["class","text-right pr-3","mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","time-worked"],["class","column_time-spent","mat-cell","",4,"matCellDef"],["matColumnDef","expandedDetail"],["class","no-padding text-truncate","mat-cell","",4,"matCellDef"],["class","table-row-header","mat-header-row","",4,"matHeaderRowDef"],["class","table-row","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["class","table-row expanded-row","mat-row","",3,"expanded",4,"matRowDef","matRowDefColumns"],["class","table-row-footer","mat-footer-row","",4,"matFooterRowDef"],[3,"length","pageSizeOptions","pageSize"],["iconName","vertical_align_bottom",3,"click"],["ch-primary-button-text",""],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"text-truncate","column_name"],[4,"ngIf"],["appEventStopPropagation","",1,"mr-2","color-primary","pointer",3,"click"],["mat-footer-cell",""],["mat-cell","",1,"column_task_name","text-truncate"],["mat-cell","",1,"column_work_type","text-truncate"],["mat-cell","",1,"column_assignee","text-truncate"],["mat-cell","",1,"column_date"],["mat-footer-cell","",1,"text-right","pr-3"],["mat-cell","",1,"column_time-spent"],["mat-cell","",1,"no-padding","text-truncate"],["mat-header-row","",1,"table-row-header"],["mat-row","",1,"table-row",3,"click"],["mat-row","",1,"table-row","expanded-row"],["mat-footer-row","",1,"table-row-footer"],[1,"d-flex","align-items-center","montserrat-text-medium","filters-container","flex-wrap",3,"ngClass"],[1,"mr-3"],[3,"providesMenu","selectedItemsLength","trackingEvent","filterOpened"],[1,"filter-text","d-flex","align-items-center"],["svgIcon","sidebar-project",1,"mr-2"],[3,"selectedItemsLength","trackingEvent","filterClosed"],[1,"mr-2"],[1,"filter-content"],["fontSet","material-icons-sharp",1,"mr-2"],[3,"selectedItemsLength","trackingEvent"],["class","d-flex w-100 mt-2",4,"ngIf"],["appearance","outline",1,"cn-filter__form-field"],["matInput","",3,"formControl","matDatepicker","max","placeholder","dateChange"],["matSuffix","",3,"for"],["startDate",""],["matInput","",3,"formControl","matDatepicker","min","placeholder","dateChange"],["endDate",""],[1,"d-flex","w-100","mt-2"],[1,"mr-3","invisible"],[1,"p-0","mt-2","cn-filter__clear","font-weight-bold","color-primary",3,"click"],[1,"w-100","sub-table"],[4,"ngFor","ngForOf"],[1,"invisible"],[1,"column_assignee"],[1,"column_date"],[1,"column_time-spent"],["appEventStopPropagation","","class","cn-filter",4,"ngIf"],["appEventStopPropagation","",1,"cn-filter"],[1,"cn-search__container","row","no-gutters","align-items-center"],[1,"col"],["matInput","",1,"cn-search__input",3,"placeholder","keyup"],["memberSearch",""],["class","col-auto cn-filter__clear font-weight-bold color-primary",3,"click",4,"ngIf"],[1,"cn-filter__type--group",3,"ngModel","change","ngModelChange"],[1,"cn-filter__type--button",3,"value"],[1,"cn-filter__line-break"],["class","cn-filter__members",4,"ngIf","ngIfElse"],[1,"col-auto","cn-filter__clear","font-weight-bold","color-primary",3,"click"],[1,"cn-filter__members"],["class","cn-filter__type--button text-truncate",4,"ngFor","ngForOf"],[1,"cn-filter__type--button","text-truncate"],[1,"text-truncate",3,"checked","change"],["class","col-auto cn-filter__clear font-weight-bold pt-2 pb-2",3,"click",4,"ngIf"],["class","cn-filter__empty-text",4,"ngIf"],[1,"col-auto","cn-filter__clear","font-weight-bold","pt-2","pb-2",3,"click"],[1,"cn-filter__empty-text"],[1,"cn-filter"],[1,"cn-filter__type--date","pointer",3,"click"],["class","cn-filter__type--date pointer",3,"appTrack","click",4,"ngFor","ngForOf"],[1,"cn-filter__type--date","pointer",3,"appTrack","click"]],template:function(t,e){if(1&t&&(Kt.Ub(0,"div",0),Kt.Ub(1,"div",1),Kt.Ub(2,"mat-drawer-container",2),Kt.Ub(3,"mat-drawer",3),Kt.Qb(4,4),Kt.Tb(),Kt.Ub(5,"mat-drawer-content"),Kt.Qb(6,4),Kt.Tb(),Kt.Tb(),Kt.Tb(),Kt.Tb(),Kt.Nc(7,Xe,1,1,"ng-template",null,5,Kt.Oc),Kt.Nc(9,En,38,16,"ng-template",null,6,Kt.Oc),Kt.Nc(11,$n,50,54,"ng-template",null,7,Kt.Oc),Kt.Nc(13,Sn,2,1,"ng-template",null,8,Kt.Oc),Kt.Nc(15,Ln,2,3,"ng-template",null,9,Kt.Oc),Kt.Nc(17,Qn,2,3,"ng-template",null,10,Kt.Oc),Kt.Nc(19,qn,5,4,"ng-template",null,11,Kt.Oc),Kt.Nc(21,Hn,3,3,"ng-template",null,12,Kt.Oc),Kt.Nc(23,Jn,2,2,"ng-template",null,13,Kt.Oc)),2&t){const t=Kt.Ac(8),e=Kt.Ac(10);Kt.Bb(4),Kt.rc("ngTemplateOutlet",t),Kt.Bb(2),Kt.rc("ngTemplateOutlet",e)}},directives:[Ct.b,Ct.a,c.u,Ct.c,c.p,Yt.a,c.o,ye.a,Ot.n,Pt.a,Ot.c,Ot.i,Ot.b,Ot.e,Ot.k,Ot.m,Ot.g,kt.a,Ie,Te,Ot.h,Pt.b,Ot.a,qt.a,Ot.d,Ot.j,Ot.l,Ot.f,c.n,Ke,Me.b,Qt.b,Rt.b,ze.c,Rt.q,Rt.f,ze.f,Me.g,ze.b,We.c,Rt.t,We.b,Jt.a,De.a],pipes:[se.d,Ye,c.e,c.b],styles:["h2[_ngcontent-%COMP%]{font-size:24px;font-family:Archive,sans-serif}.mycraftnote-table[_ngcontent-%COMP%]{background-color:transparent;color:var(--craftnote-table-font)}.mycraftnote-table__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.mycraftnote-table[_ngcontent-%COMP%]   .table-row-header[_ngcontent-%COMP%]{background-color:var(--app-background-color);border-bottom:2px solid var(--app-background-color);height:48px}.mycraftnote-table[_ngcontent-%COMP%]   .table-row-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:var(--craftnote-table-header-font);padding:.75rem;font-size:.9rem;line-height:0;font-weight:700}.mycraftnote-table[_ngcontent-%COMP%]   .table-row-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(.index-col){background-color:var(--craftnote-table-header-background);border-top:1px solid var(--craftnote-table-header-border-color)}.mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{background-color:transparent}.mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid var(--app-background-color);padding:.75rem;font-size:.9rem;line-height:0}.mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:nth-child(odd)   td[_ngcontent-%COMP%]:not(.index-col){background-color:var(--craftnote-table-cell-odd-background)}.mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%]:not(.index-col){background-color:var(--craftnote-table-cell-even-background)}.mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]:not(.index-col){background-color:var(--craftnote-table-cell-hover-background)}.mycraftnote-table[_ngcontent-%COMP%]   .table-row.cdk-drag-placeholder[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(.index-col){background:var(--app-background-color);color:transparent;box-shadow:inset 0 2px 0 var(--app-primary)}.mycraftnote-table[_ngcontent-%COMP%]   .table-row.cdk-drag-placeholder[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]     svg{visibility:hidden}.mycraftnote-table[_ngcontent-%COMP%]   .index-col[_ngcontent-%COMP%]{width:100px}.mycraftnote-table[_ngcontent-%COMP%]   .drag-indicator[_ngcontent-%COMP%]{color:#858585;font-size:14px;cursor:move;width:14px}.mycraftnote-table[_ngcontent-%COMP%]   .drag-indicator[_ngcontent-%COMP%]     svg{fill:#858585}.mycraftnote-table[_ngcontent-%COMP%]   .actions-col[_ngcontent-%COMP%]{width:20%;color:#858585}.cdk-preview[_ngcontent-%COMP%]{background:var(--app-background-color);box-shadow:0 0 5px 1px rgba(0,0,0,.8);height:48px}.cdk-preview[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:.75rem;font-size:.9rem;line-height:1.5rem}.cdk-preview[_ngcontent-%COMP%]   .actions-col[_ngcontent-%COMP%]{color:#858585}.cdk-preview[_ngcontent-%COMP%]   .drag-indicator[_ngcontent-%COMP%]     svg{fill:#858585}.cdk-drag-animating[_ngcontent-%COMP%], .cdk-drop-list-dragging[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .15s cubic-bezier(0,0,.2,1)}.mycraftnote-table[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.mycraftnote-table__container[_ngcontent-%COMP%]{background-color:var(--background-color);border-radius:5px}.mycraftnote-table__container[_ngcontent-%COMP%]     mat-paginator{font-family:Montserrat,sans-serif}.mycraftnote-table__container[_ngcontent-%COMP%]     mat-paginator .mat-form-field-appearance-legacy .mat-form-field-wrapper{padding:0 0 5px}.mycraftnote-table__container[_ngcontent-%COMP%]     mat-paginator .mat-form-field-underline{display:none}.mycraftnote-table__container[_ngcontent-%COMP%]     mat-paginator .mat-form-field-flex{padding:4px 10px;border:1px solid grey;border-radius:3px}.mycraftnote-table__container[_ngcontent-%COMP%]     mat-paginator .mat-form-field-infix{margin:0 auto;padding:5px 0;border:0}.mycraftnote-table__container[_ngcontent-%COMP%]     mat-paginator .mat-icon-button[disabled]{opacity:.4}.mycraftnote-table__container[_ngcontent-%COMP%]     mat-paginator .mat-paginator-container{height:70px;background-color:var(--background-color)}.mycraftnote-table__container[_ngcontent-%COMP%]     mat-paginator .mat-paginator-container .mat-paginator-page-size{margin-right:0}.mycraftnote-table__container[_ngcontent-%COMP%]     mat-paginator .mat-paginator-range-actions .mat-paginator-range-label{margin:0 40px 0 24px}.mycraftnote-table__container[_ngcontent-%COMP%]     mat-paginator .mat-paginator-range-actions .mat-icon-button{border:1px solid grey;border-radius:3px;height:34px;width:34px;line-height:30px;margin-right:10px}.mycraftnote-table__header[_ngcontent-%COMP%]{padding:0 42px}.mycraftnote-table__title[_ngcontent-%COMP%]{font-size:28px;font-family:Montserrat,sans-serif;font-weight:700}.mycraftnote-table[_ngcontent-%COMP%]   .table-row-header[_ngcontent-%COMP%]{background-color:var(--background-color);border:0;height:auto}.mycraftnote-table[_ngcontent-%COMP%]   .table-row-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{opacity:.3;text-transform:capitalize;border:0!important}.mycraftnote-table[_ngcontent-%COMP%]   .table-row-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(.index-col){background-color:var(--background-color)}.mycraftnote-table[_ngcontent-%COMP%]   .table-row-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px}.mycraftnote-table[_ngcontent-%COMP%]   .table-row-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child:not(.index-col), .mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child:not(.index-col){padding-left:42px}.mycraftnote-table[_ngcontent-%COMP%]   .table-row-footer[_ngcontent-%COMP%]{background-color:var(--background-color)}.mycraftnote-table[_ngcontent-%COMP%]   .table-row-footer[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0;padding-top:16px}.mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{cursor:pointer}.mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:nth-child(odd)   td[_ngcontent-%COMP%]:not(.index-col){background-color:var(--background-color)}.mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%]:not(.index-col){background-color:var(--craftnote-table-cell-even-background-v2)}.mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:hover:not(.expanded-row), .mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:hover:not(.expanded-row)   td[_ngcontent-%COMP%]:not(.index-col){background-color:var(--craftnote-table-cell-hover-background)}.mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;font-size:12px}.mycraftnote-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td.no-padding[_ngcontent-%COMP%]{padding:0!important}.mycraftnote-table[_ngcontent-%COMP%]   .table-row.expanded-row[_ngcontent-%COMP%]{display:none}.mycraftnote-table[_ngcontent-%COMP%]   .table-row.expanded-row.expanded[_ngcontent-%COMP%]{display:table-row}.mycraftnote-table.with-expandable-row[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%]:not(.index-col){background-color:var(--background-color)}.mycraftnote-table.with-expandable-row[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:nth-child(4n+3)   td[_ngcontent-%COMP%]:not(.index-col), .mycraftnote-table.with-expandable-row[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:nth-child(4n+4)   td[_ngcontent-%COMP%]:not(.index-col){background-color:var(--craftnote-table-cell-even-background-v2)}.mycraftnote-table[_ngcontent-%COMP%]   .sub-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:48px;font-size:14.4px}.mycraftnote-table[_ngcontent-%COMP%]   .column_name[_ngcontent-%COMP%]:not(.d-flex){max-width:250px}.mycraftnote-table[_ngcontent-%COMP%]   .column_name[_ngcontent-%COMP%]:not(.d-flex) > span[_ngcontent-%COMP%]{vertical-align:inherit}.mycraftnote-table[_ngcontent-%COMP%]   .column_name[_ngcontent-%COMP%]:not(.d-flex) > span[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle;line-height:22px}.mycraftnote-table[_ngcontent-%COMP%]   .column_date[_ngcontent-%COMP%]{width:10%;min-width:150px}.mycraftnote-table[_ngcontent-%COMP%]   .column_assignee[_ngcontent-%COMP%]{width:15%;min-width:175px;white-space:nowrap}.mycraftnote-table[_ngcontent-%COMP%]   .column_time-spent[_ngcontent-%COMP%]{width:15%;min-width:250px}.time-tracking-container[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.time-tracking-container[_ngcontent-%COMP%]   mat-drawer-container[_ngcontent-%COMP%]{background-color:transparent}.time-tracking-container[_ngcontent-%COMP%]   .no-padding[_ngcontent-%COMP%]{padding:0}.time-tracking-container[_ngcontent-%COMP%]   mat-drawer[_ngcontent-%COMP%], .time-tracking-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]{width:380px;border-top-left-radius:5px}.time-tracking-container[_ngcontent-%COMP%]   .entry-details[_ngcontent-%COMP%]{padding:20px 0}.time-tracking-container[_ngcontent-%COMP%]   .entry-details[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:0 15px}.time-tracking-container[_ngcontent-%COMP%]   .entry-details__header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:52px;text-transform:uppercase}.time-tracking-container[_ngcontent-%COMP%]   .entry-details__item[_ngcontent-%COMP%]{font-size:14px;color:var(--time-tracking-sidebar-font-color);margin-bottom:24px;word-break:break-all}.time-tracking-container[_ngcontent-%COMP%]   .entry-details__item--header[_ngcontent-%COMP%]{font-size:12px;opacity:.5;margin-bottom:5px}.time-tracking-container[_ngcontent-%COMP%]   .entry-details__time-entry[_ngcontent-%COMP%]{margin-bottom:5px}.time-tracking-container[_ngcontent-%COMP%]   .entry-details__time-entry[_ngcontent-%COMP%]:first-of-type > div[_ngcontent-%COMP%]{margin-top:0}.time-tracking-container[_ngcontent-%COMP%]   .entry-details__time-entry--date[_ngcontent-%COMP%]{background-color:var(--filter-btn-background-color);color:var(--filter-font-color);font-weight:700;padding:3px 15px;margin:15px 0}.time-tracking-container[_ngcontent-%COMP%]   .entry-details__time-entry--total[_ngcontent-%COMP%]{background-color:#85746e;font-weight:700;color:#fff;padding:3px 15px;margin-top:15px;margin-bottom:15px}.time-tracking-container[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]{padding:0 42px;font-size:12px;margin-bottom:28px}.time-tracking-container[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   mat-icon[fontSet][_ngcontent-%COMP%], .time-tracking-container[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   mat-icon[svgIcon][_ngcontent-%COMP%]{transform:scale(.75)}.cn-filter__empty-text[_ngcontent-%COMP%]{text-align:center;font-family:Montserrat,sans-serif;font-size:12px;padding:15px}.cn-filter__clear[_ngcontent-%COMP%]{color:var(--app-primary);font-size:12px;padding-left:15px;cursor:pointer}.cn-filter__type--button[_ngcontent-%COMP%]{margin-bottom:12px;width:100%;font-size:12px}.cn-filter__type--button[_ngcontent-%COMP%]:last-child{margin-bottom:0}.cn-filter__line-break[_ngcontent-%COMP%]{border-bottom:1px solid var(--filter-btn-background-color);margin:12px 0}.cn-filter__members[_ngcontent-%COMP%]{max-height:350px;overflow:auto}.cn-filter__type--group[_ngcontent-%COMP%]{width:100%}.cn-filter__type--date[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;width:180px;border-radius:5px;background-color:var(--filter-btn-background-color);color:var(--filter-font-color);font-size:12px;padding:10px 30px;text-align:center;margin-bottom:5px;font-weight:700}.cn-filter__type--date[_ngcontent-%COMP%]:last-child{margin-bottom:0}.cn-filter__form-group[_ngcontent-%COMP%]{position:relative}.cn-filter__form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:40px;border:1px solid #85746e;border-radius:5px;padding:0 15px}.cn-filter__form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;left:10px;margin-top:7px;line-height:20px;color:#34180e;pointer-events:none;padding:3px 5px}.cn-filter__form-group.active[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{top:0;margin-top:-13px;background-color:var(--background-color);font-size:12px}.cn-filter__form-field[_ngcontent-%COMP%]{margin-right:15px}.cn-filter__form-field[_ngcontent-%COMP%]     .mat-form-field-wrapper{position:relative;margin:0!important;padding-bottom:0;height:40px}.cn-filter__form-field[_ngcontent-%COMP%]     .mat-form-field-flex{height:43px;padding-right:5px}.cn-filter__form-field[_ngcontent-%COMP%]     .mat-form-field-infix{margin:3px 0 0;border:0;padding:0;align-self:center}.cn-filter__form-field[_ngcontent-%COMP%]     .mat-form-field-suffix{margin-top:5px}.cn-filter__project-item[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;color:var(--filter-font-color);width:450px;height:83px;border-bottom:1px solid rgba(0,0,0,.1)}.cn-filter__project-item.folder[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:0}.cn-filter__project-item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:5px}.cn-filter__project-item--id[_ngcontent-%COMP%]{font-family:Helvetica,sans-serif;font-weight:700;font-size:12px;max-width:215px}.cn-filter__project-item--title[_ngcontent-%COMP%]{font-size:14px;font-weight:700;max-width:215px}.cn-filter__project-item--container[_ngcontent-%COMP%]{height:490px;overflow:auto;width:470px}.cn-filter__project-item--container--project-item-container[_ngcontent-%COMP%]{height:350px;width:100%}.cn-filter__project-item--address[_ngcontent-%COMP%]{font-size:12px;opacity:.6;max-width:215px}.cn-filter__project-item--icon[_ngcontent-%COMP%]{color:#a09691}.cn-filter__project-item--icon[_ngcontent-%COMP%]   app-indicator[_ngcontent-%COMP%]{min-width:50px;min-height:44px;align-self:center;display:inline-block}.cn-search__input[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;background-color:var(--filter-btn-background-color);color:var(--filter-font-color);padding:10px 8px;border-radius:4px;height:40px;font-size:14px}.cn-search__container[_ngcontent-%COMP%]{margin-bottom:25px}  .mat-checkbox,   .mat-radio-button{font-family:Montserrat,sans-serif}  .mat-checkbox label,   .mat-radio-button label{margin-bottom:0}  .mat-radio-container{transform:scale(.8)}  .mat-checkbox-inner-container{margin-left:2px!important;margin-right:12px!important}  .mat-sort-header-container{height:18px}  .mat-sort-header-button{height:100%}"]}),t})(),pathMatch:"full",data:{authGuardPipe:o.b}}];let Zn=(()=>{class t{}return t.\u0275mod=Kt.Mb({type:t}),t.\u0275inj=Kt.Lb({factory:function(e){return new(e||t)},imports:[[r.l.forChild(Xn)],r.l]}),t})();var tc=n("PCNd"),ec=n("JIr8"),nc=n("I/3d");let cc=(()=>{class t{constructor(t,e){this.aFireStore=t,this.store=e}getAllTasks(t){this.loadChunks(t,{collectionName:"tasks",fieldPath:"projectId",updateAction:t=>d({tasks:t}),deleteAction:t=>b({tasks:t})})}getAllTaskTimes(t){this.loadChunks(t,{collectionName:"taskTimes",fieldPath:"taskId",updateAction:t=>m({taskTimes:t}),deleteAction:t=>f({taskTimes:t})})}getAllTrackedTimes(t){this.loadChunks(t,{collectionName:"trackedTimes",fieldPath:"projectId",updateAction:t=>w({trackedTimes:t}),deleteAction:t=>E({trackedTimes:t})})}loadChunks(t,e){const n=Object(L.chunk)(t,10);Object(ut.b)(n.map(t=>this.getChunkedDocuments(t,e))).subscribe(t=>this.transformTasksToActions(t,e))}getChunkedDocuments(t,e){return this.aFireStore.collection(e.collectionName,n=>n.where(e.fieldPath,"in",t)).stateChanges().pipe(Object(ec.a)(t=>(console.log(e,t),Object(Gt.a)([]))),Object(yt.a)(t=>({updatedDocs:t.filter(t=>["added","modified"].includes(t.type)).map(t=>t.payload.doc.data()),deletedDocs:t.filter(t=>["removed"].includes(t.type)).map(t=>t.payload.doc.id)})))}transformTasksToActions(t,e){let n=[],c=[];t.forEach(t=>{n=[...n,...t.updatedDocs],c=[...c,...t.deletedDocs]}),this.store.dispatch(e.updateAction(n)),this.store.dispatch(e.deleteAction(c))}}return t.\u0275fac=function(e){return new(e||t)(Kt.cc(nc.a),Kt.cc(i.h))},t.\u0275prov=Kt.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var rc=n("9jGm"),oc=n("vkgz");let ac=(()=>{class t{constructor(t,e,n){this.actions$=t,this.store=e,this.taskService=n,this.loadTasksAndTimes$=this.actions$.pipe(Object(rc.d)(s),Object(Nt.a)(()=>this.store.select(et).pipe(Object(Mt.a)(300))),Object(oc.a)(()=>this.store.dispatch(p())),Object(oc.a)(t=>this.taskService.getAllTasks(t)))}ngrxOnInitEffects(){return s()}}return t.\u0275fac=function(e){return new(e||t)(Kt.cc(rc.a),Kt.cc(i.h),Kt.cc(cc))},t.\u0275prov=Kt.Kb({token:t,factory:t.\u0275fac}),Object(a.b)([Object(rc.b)({dispatch:!1}),Object(a.c)("design:type",Object)],t.prototype,"loadTasksAndTimes$",void 0),t})(),ic=(()=>{class t{constructor(t,e,n){this.actions$=t,this.store=e,this.taskService=n,this.loadTasksAndTimes$=this.actions$.pipe(Object(rc.d)(g),Object(Nt.a)(()=>this.store.select(it).pipe(Object(Mt.a)(300))),Object(oc.a)(()=>this.store.dispatch(h())),Object(oc.a)(t=>this.taskService.getAllTaskTimes(t)))}ngrxOnInitEffects(){return g()}}return t.\u0275fac=function(e){return new(e||t)(Kt.cc(rc.a),Kt.cc(i.h),Kt.cc(cc))},t.\u0275prov=Kt.Kb({token:t,factory:t.\u0275fac}),Object(a.b)([Object(rc.b)({dispatch:!1}),Object(a.c)("design:type",Object)],t.prototype,"loadTasksAndTimes$",void 0),t})();var lc=n("j14s");let sc=(()=>{class t{constructor(t,e,n){this.actions$=t,this.store=e,this.taskService=n,this.loadTasksAndTimes$=this.actions$.pipe(Object(rc.d)(v),Object(Nt.a)(()=>this.store.select(et).pipe(Object(Mt.a)(300))),Object(oc.a)(()=>this.store.dispatch(I())),Object(oc.a)(t=>this.taskService.getAllTrackedTimes(t)))}ngrxOnInitEffects(){return v()}}return t.\u0275fac=function(e){return new(e||t)(Kt.cc(rc.a),Kt.cc(i.h),Kt.cc(cc))},t.\u0275prov=Kt.Kb({token:t,factory:t.\u0275fac}),Object(a.b)([Object(rc.b)({dispatch:!1}),Object(a.c)("design:type",Object)],t.prototype,"loadTasksAndTimes$",void 0),t})();const dc=z.a||K,bc=new Kt.q("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});function pc(t,e){const n=Array(t);for(let c=0;c<t;c++)n[c]=e(c);return n}let gc=(()=>{class t extends lc.c{constructor(t,e){super(),this._options=e,this.setLocale(t||dc.locale())}setLocale(t){super.setLocale(t);let e=dc.localeData(t);this._localeData={firstDayOfWeek:e.firstDayOfWeek(),longMonths:e.months(),shortMonths:e.monthsShort(),dates:pc(31,t=>this.createDate(2017,0,t+1).format("D")),longDaysOfWeek:e.weekdays(),shortDaysOfWeek:e.weekdaysShort(),narrowDaysOfWeek:e.weekdaysMin()}}getYear(t){return this.clone(t).year()}getMonth(t){return this.clone(t).month()}getDate(t){return this.clone(t).date()}getDayOfWeek(t){return this.clone(t).day()}getMonthNames(t){return"long"==t?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(t){return"long"==t?this._localeData.longDaysOfWeek:"short"==t?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(t){return this.clone(t).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(t){return this.clone(t).daysInMonth()}clone(t){return t.clone().locale(this.locale)}createDate(t,e,n){if(e<0||e>11)throw Error(`Invalid month index "${e}". Month index has to be between 0 and 11.`);if(n<1)throw Error(`Invalid date "${n}". Date has to be greater than 0.`);const c=this._createMoment({year:t,month:e,date:n}).locale(this.locale);if(!c.isValid())throw Error(`Invalid date "${n}" for month with index "${e}".`);return c}today(){return this._createMoment().locale(this.locale)}parse(t,e){return t&&"string"==typeof t?this._createMoment(t,e,this.locale):t?this._createMoment(t).locale(this.locale):null}format(t,e){if(t=this.clone(t),!this.isValid(t))throw Error("MomentDateAdapter: Cannot format invalid date.");return t.format(e)}addCalendarYears(t,e){return this.clone(t).add({years:e})}addCalendarMonths(t,e){return this.clone(t).add({months:e})}addCalendarDays(t,e){return this.clone(t).add({days:e})}toIso8601(t){return this.clone(t).format()}deserialize(t){let e;if(t instanceof Date)e=this._createMoment(t).locale(this.locale);else if(this.isDateInstance(t))return this.clone(t);if("string"==typeof t){if(!t)return null;e=this._createMoment(t,dc.ISO_8601).locale(this.locale)}return e&&this.isValid(e)?this._createMoment(e).locale(this.locale):super.deserialize(t)}isDateInstance(t){return dc.isMoment(t)}isValid(t){return this.clone(t).isValid()}invalid(){return dc.invalid()}_createMoment(t,e,n){const{strict:c,useUtc:r}=this._options||{};return r?dc.utc(t,e,n,c):dc(t,e,n,c)}}return t.\u0275fac=function(e){return new(e||t)(Kt.cc(lc.g,8),Kt.cc(bc,8))},t.\u0275prov=Kt.Kb({token:t,factory:t.\u0275fac}),t})();var mc=n("Cfvw"),fc=n("xU6T");let hc=(()=>{class t{constructor(t,e,n){this.actions$=t,this.store=e,this.projectService=n,this.loadCompanyProjects=this.actions$.pipe(Object(rc.d)(W.c),Object(At.a)(()=>Object(ut.b)([this.store.select(A.h).pipe(Object(wt.a)(t=>!!t)),this.store.select(A.s).pipe(Object(wt.a)(t=>!!t))])),Object(oc.a)(()=>this.store.dispatch(W.a())),Object(Nt.a)(([t,e])=>e===It.MemberRole.OWNER?this.projectService.getProjectStatusChangesByCompanyId(t):this.projectService.getProjectsListeners("active","project")),Object(Nt.a)(t=>this.getDispatchEventsOfProjectsByCompanyId(t)))}ngrxOnInitEffects(){return W.c()}getDispatchEventsOfProjectsByCompanyId(t){const e=t.filter(t=>["added","changed"].includes(t.type)).map(t=>t.payload.doc.data()),n=t.filter(t=>["removed"].includes(t.type)).map(t=>t.payload.doc.id);return Object(mc.a)([W.d({projects:e}),W.b({projects:n})])}}return t.\u0275fac=function(e){return new(e||t)(Kt.cc(rc.a),Kt.cc(i.h),Kt.cc(fc.a))},t.\u0275prov=Kt.Kb({token:t,factory:t.\u0275fac}),Object(a.b)([Object(rc.b)(),Object(a.c)("design:type",Object)],t.prototype,"loadCompanyProjects",void 0),t})(),_c=(()=>{class t{}return t.\u0275mod=Kt.Mb({type:t}),t.\u0275inj=Kt.Lb({factory:function(e){return new(e||t)},imports:[[c.c,Wt.c,Yt.b]]}),t})();const uc={parse:{dateInput:"LL"},display:{dateInput:"dddd L",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let Oc=(()=>{class t{constructor(t){this.translate=t;const e=t.getBrowserLang().includes("de")?"de":"en";K.locale(e)}}return t.\u0275mod=Kt.Mb({type:t}),t.\u0275inj=Kt.Lb({factory:function(e){return new(e||t)(Kt.cc(se.e))},providers:[cc,{provide:lc.c,useClass:gc,deps:[lc.g,bc]},{provide:lc.f,useValue:uc}],imports:[[c.c,Zn,tc.a,Ot.p,ze.e,Rt.w,i.j.forFeature("dashboard",{tasks:T,taskTimes:j,trackedTimes:S,companyProjects:H}),rc.c.forFeature([ac,ic,sc,hc]),Ht.f,_c],Zn]}),t})()}}]);